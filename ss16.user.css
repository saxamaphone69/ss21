/* ==UserStyle==
@name           ss18
@version        2.0.6
@namespace      https://github.com/saxamaphone69/
@description    a self-centered, fresh attempt at (user)styling 4chan
@author         sax
@homepageURL    https://github.com/saxamaphone69/ss16
@supportURL     https://github.com/saxamaphone69/ss16/issues
@license        CC-BY-SA-4.0
==/UserStyle== */
@-moz-document domain('boards.4chan.org') {
  /**
	 * after losing the real ss18 due to a corruption of stylus' database when chrome
	 * didn't close properly, i've had to restart my attempt at ss18
	 * this userstyle will take advantage of the new usercss format to enable updates,
	 * which should also force me to ensure the github version is also always up to
	 * date
	 */

  /**
	 * css custom properties (a.k.a. variables) are finally here, and we take full
	 * advantage of them for colouring, loosely based on the material design guidelines
	 */

  :root {
    --primary-50: rgba(243, 229, 245, .5);
    --primary-300: #ba68c8;
    --primary-500: #9c27b0; /* rgba(156, 39, 176, 1) */
    --primary-700: #7b1fa2;
    --primary-dark: #454545;
    --secondary-300: #ffb74d;
    --secondary-500: #ff9800; /* rgba(255, 152, 0, 1) */
    --secondary-700: #f57c00;
    --background-primary: #fff; /* rgba(255, 255, 255, 1) */
    --background-secondary: #fafafa;
    --background-hint: #e8e8e8;
    --background-outline: rgba(205, 205, 205, .75);
    --red-50: #ffebee;
    --red-300: #e57373;
    --red-500: #f44336;
    --red-700: #d32f2f;
    --blue-50: #e3f2fd;
    --blue-300: #64b5f6;
    --blue-500: #2196f3;
    --blue-700: #1976d2;
    --green-50: #e8f5e9;
    --green-300: #81c784;
    --green-500: #4caf50;
    --green-700: #388e3c;
    --purple-50: #f3e5f5;
    --purple-300: #ba68c8;
    --purple-500: #9c27b0;
    --purple-700: #7b1fa2;
    --orange-50: #fff3e0;
    --orange-300: #ffb74d;
    --orange-500: #ff9800;
    --orange-700: #f57c00;
    --gray-50: #fafafa;
    --gray-100: #f5f5f5;
    --gray-300: #e0e0e0;
    --gray-500: #9e9e9e;
    --gray-700: #616161;
    --gray-900: #212121;
    --text-primary-on-primary: white;
    --text-secondary-on-primary: rgba(255, 255, 255, 0.7);
    --text-hint-on-primary: rgba(255, 255, 255, 0.5);
    --text-disabled-on-primary: rgba(255, 255, 255, 0.5);
    --text-icon-on-primary: rgba(255, 255, 255, 0.5);
    --text-primary-on-primary-light: white;
    --text-secondary-on-primary-light: rgba(255, 255, 255, 0.7);
    --text-hint-on-primary-light: rgba(255, 255, 255, 0.5);
    --text-disabled-on-primary-light: rgba(255, 255, 255, 0.5);
    --text-icon-on-primary-light: rgba(255, 255, 255, 0.5);
    --text-primary-on-primary-dark: white;
    --text-secondary-on-primary-dark: rgba(255, 255, 255, 0.7);
    --text-hint-on-primary-dark: rgba(255, 255, 255, 0.5);
    --text-disabled-on-primary-dark: rgba(255, 255, 255, 0.5);
    --text-icon-on-primary-dark: rgba(255, 255, 255, 0.5);
    --text-primary-on-secondary: rgba(0, 0, 0, 0.87);
    --text-secondary-on-secondary: rgba(0, 0, 0, 0.54);
    --text-hint-on-secondary: rgba(0, 0, 0, 0.38);
    --text-disabled-on-secondary: rgba(0, 0, 0, 0.38);
    --text-icon-on-secondary: rgba(0, 0, 0, 0.38);
    --text-primary-on-secondary-light: rgba(0, 0, 0, 0.87);
    --text-secondary-on-secondary-light: rgba(0, 0, 0, 0.54);
    --text-hint-on-secondary-light: rgba(0, 0, 0, 0.38);
    --text-disabled-on-secondary-light: rgba(0, 0, 0, 0.38);
    --text-icon-on-secondary-light: rgba(0, 0, 0, 0.38);
    --text-primary-on-secondary-dark: white;
    --text-secondary-on-secondary-dark: rgba(255, 255, 255, 0.7);
    --text-hint-on-secondary-dark: rgba(255, 255, 255, 0.5);
    --text-disabled-on-secondary-dark: rgba(255, 255, 255, 0.5);
    --text-icon-on-secondary-dark: rgba(255, 255, 255, 0.5);
    --text-primary-on-background: rgba(0, 0, 0, 0.87);
    --text-secondary-on-background: rgba(0, 0, 0, 0.54);
    --text-hint-on-background: rgba(0, 0, 0, 0.38);
    --text-disabled-on-background: rgba(0, 0, 0, 0.38);
    --text-icon-on-background: rgba(0, 0, 0, 0.38);
    --text-primary-on-light: rgba(0, 0, 0, 0.87);
    --text-secondary-on-light: rgba(0, 0, 0, 0.54);
    --text-hint-on-light: rgba(0, 0, 0, 0.38);
    --text-disabled-on-light: rgba(0, 0, 0, 0.38);
    --text-icon-on-light: rgba(0, 0, 0, 0.38);
    --text-primary-on-dark: white;
    --text-secondary-on-dark: rgba(255, 255, 255, 0.7);
    --text-hint-on-dark: rgba(255, 255, 255, 0.5);
    --text-disabled-on-dark: rgba(255, 255, 255, 0.5);
    --text-icon-on-dark: rgba(255, 255, 255, 0.5);
    --font-family-default: arimo, roboto, helvetica, arial, sans-serif;
    --font-family-compliment: karla, sans-serif;
    --font-family-monospace: inconsolata, roboto mono, monospace, monospace;
    --font-family-icon: material icons, font awesome;
    --depth-material: 0 2px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 1px 3px 0 rgba(0, 0, 0, 0.12);
    --depth-default: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);
  }

  /**
	 * invert colours if enabled in sidedish settings
	 */

  /*
	:root.ss16--invert {
		--background-primary: #3D3D3D;
		--background-secondary: #4A4A4A;
		--background-hint: #6E6E6E;
		--text-primary-on-background: rgba(225, 225, 225, 1);
		--text-secondary-on-background: rgba(255, 255, 255, .7);
		--text-hint-on-background: rgba(255, 255, 255, .5);
	}
	*/
  :root.ss16--invert {
    --primary-50: rgba(60, 1, 68, .25);
    --background-primary: #2b3942;
    --background-secondary: #2c343a;
    --background-hint: #1e2a31;
    --background-outline: rgba(33, 40, 44, .5);
    --text-primary-on-background: rgb(138, 155, 161);
    --text-secondary-on-background: rgba(138, 155, 161, .7);
    --text-hint-on-background: rgba(138, 155, 161, .5);
  }

  /**
	 * when viewing a nsfw board, use a different primary and secondary colour
	 */

  :root.nws {
    --primary-50: rgba(239, 235, 233, .5);
    --primary-300: #a1887f;
    --primary-500: #795548; /* rgba(156, 39, 176, 1) */
    --primary-700: #5d4037;
    --secondary-300: #81c784;
    --secondary-500: #4caf50; /* rgba(255, 152, 0, 1) */
    --secondary-700: #388e3c;
  }

  /**
	 * create a pseudo element loader/spinner while we wait for the index to load
	 */

  :root.site-loading #delform::before {
    content: '';
    display: block;
    border: .5rem solid var(--text-hint-on-background);
    border-top-color: var(--primary-500);
    width: 10rem;
    height: 10rem;
    margin: auto;
    border-radius: 50%;
    animation: loading 1s infinite;
  }

  :root.site-loading #delform {
    display: flex;
    align-items: center;
    justify-content: center;
    height: calc(100vh - 30rem);
  }

  :root.site-loading,
  :root.site-loading body {
    padding: 0 !important;
  }

  :root.site-loading #header-bar,
  :root.site-loading #bannerCnt,
  :root.site-loading .navLinks,
  :root.site-loading .board,
  :root.site-loading .pagelist {
    display: none !important;
  }

  @keyframes loading {
    to {
      transform: rotate(359deg);
    }
  }

  /**
	 * first off we hide the things we don't need.
	 * these elements are declared separately to avoid the overuse of `!important`,
	 * because these are ads (and why haven't you bought a 4chan pass, friend?) and
	 * to ensure `[hidden]` elements remain hidden
	 */

  .center,
  .arc-ads,
  [hidden] {
    display: none !important;
  }

  /**
	 * then we also hide:
	 * - mobile elements
	 * - luckily, a bunch of elements we don't need use the `.desktop` class, with a
	 *   few exceptions
	 * - all horizontal rules, bar the unread line
	 * - ccd0 caters for mentally challenged people who can't manage to start a thread
	 * - the original port form (use the qr)
	 * - checkboxes from posts (use the menu)
	 * - ad pleas
	 * - the '>>' to the left of posts when reply hiding isn't on
	 */

  .mobile,
  .desktop:not(#bannerCnt):not(.postInfo):not(.postNum):not(.summary):not(.pagelist):not(#boardNavDesktopFoot),
  hr:not(#unread-line),
  .qr-link-container,
  .postForm,
  .postInfo > input,
  .ad-plea,
  .sideArrows,
  #navbotright {
    display: none;
  }

  /**
	 * a sensible reset, normalisation, and reboot, based on the most popular web
	 * frameworks available:
	 * - https://getbootstrap.com/
	 * - https://necolas.github.io/normalize.css/
	 * - http://jonathantneal.github.io/sanitize.css/
	 * - https://bulma.io/
	 * - https://material.io/components/
	 */

  :root {
    font-family: var(--font-family-default);
    font-size: 1rem;
    line-height: 1.5;
    color: var(--text-primary-on-background);
    background-color: var(--background-hint);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    overflow-y: scroll;
    box-sizing: border-box;

    /*
		word-wrap: break-word;
		overflow-wrap: break-word;
		-webkit-hyphens: auto;
		-moz-hyphens: auto;
		hyphens: auto;
		*/
  }

  /**
	 * http://www.paulirish.com/2012/box-sizing-border-box-ftw/ along with
	 * https://css-tricks.com/inheriting-box-sizing-probably-slightly-better-best-practice/
	 */

  *,
  *::before,
  *::after {
    box-sizing: inherit;
  }

  /**
	 * it is bad practice/UX to not give focused elements visual feedback (not
	 * to mention against the law), but there is a 0% chance anyone with visual
	 * impairments would be using a userstyle
	 */

  :focus {
    outline: 0;
  }

  /**
	 * set a custom `background-color` for highlighted elements to match the theme,
	 * and there's two separate declarations because:
	 * https://bugzilla.mozilla.org/show_bug.cgi?id=509958
	 * https://caniuse.com/#feat=css-selection
	 */

  ::-moz-selection {
    background-color: var(--primary-50);
  }

  ::selection {
    background-color: var(--primary-50);
  }

  /**
	 * give scrollbars in webkit browsers some non-standard love
	 * https://developer.mozilla.org/en-US/docs/Web/CSS/::-webkit-scrollbar
	 */

  ::-webkit-scrollbar {
    width: .5rem;
    height: .5rem;
    background-color: var(--gray-300);
  }

  ::-webkit-scrollbar-thumb {
    background-color: var(--gray-500);
  }

  /**
	 * reset the default margin given to these elements to something we prefer
	 */

  blockquote,
  body,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p {
    margin: 0;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    line-height: 1.2;
    font-weight: 700;
    margin-bottom: .5rem;
  }

  h1 {
    font-size: 2.5rem;
  }

  h2 {
    font-size: 2rem;
  }

  h3 {
    font-size: 1.75rem;
  }

  h4 {
    font-size: 1.5rem;
  }

  h5 {
    font-size: 1.25rem;
  }

  h6 {
    font-size: 1rem;
  }

  p {
    margin-bottom: 1rem;
  }

  /**
	 * address `font-weight` set incorrectly in all browsers, but while we're here,
	 * set other elements we want to our desired 'bold' weight
	 */

  b,
  strong,
  th,
  legend,
  .subject,
  .name {
    font-weight: 700;
  }

  /**
	 * add a potentially expensive override to inline-styled elements with an
	 * `!important` to ensure consistent styling
	 */

  [style*='weight:'] {
    font-weight: 700 !important;
  }

  /**
	 * ensure `font-size` is correct in all browsers
	 */

  small {
    font-size: 80%;
  }

  /**
	 * prevent `sub` and `sup` elements from affecting `line-height`
	 */

  sub,
  sup {
    position: relative;
    font-size: 75%;
    line-height: 0;
    vertical-align: baseline;
  }

  sub {
	  bottom: -.25em;
  }

  sup {
		top: -.5em;
  }

  /**
	 * remove underlines from all `a` elements, and we opt for `inherit` here because
	 * very few `a` elements are a consistent colour
	 */

  a {
    color: inherit;
    background-color: transparent;
    text-decoration: none;
    transition: color .25s;
  }

  /**
	 * the exception of course, being linkified links
	 */

  /*
	.linkify {
		border-bottom: 1px solid;
	}
*/
  .linkify {
    text-decoration: solid underline;
    text-decoration-skip: ink;
  }

  /**
	 * correct some weird browser inconsistencies, and while we're here, set tripcodes
	 * and user ids to use a monospace font too
	 */

  pre,
  code,
  kbd,
  .postertrip,
  .posteruid {
    font-family: var(--font-family-monospace);
    font-size: 1em;
  }

  /**
	 * give `code` elements a stylistic reboot
	 */

  code {
    font-size: 87.5%;
    color: var(--text-primary-on-light);
    background-color: var(--gray-100);
    padding: .25rem .5rem .125rem;
    border-radius: 2px;
    word-break: break-word;
  }

  /**
	 * give `kbd` elements a stylistic reboot
	 */

  kbd {
    font-size: 87.5%;
    color: var(--text-primary-on-dark);
    background-color: var(--gray-900);
    padding: .25rem .5rem .125rem;
    border-radius: 2px;
  }

  /**
	 * fix spacing of media objects, and make them responsive from the start
	 */

  embed,
  iframe,
  img,
  svg,
  video {
    vertical-align: middle;
    height: auto;
    max-width: 100%;
  }

  audio {
    vertical-align: middle;
  }

  svg {
    fill: currentColor;
  }

  /**
	 * remove the default border given to `iframe`
	 */

  iframe {
    border: 0;
  }

  /**
	 * prevent double borders
	 */

  table {
    border-collapse: collapse;
    border-spacing: 0;
  }

  /**
	 * normalise the vertical alignment of `progress` in all browsers
	 */

  progress {
    vertical-align: baseline;
  }

  /**
	 * reset and reboot form input elements, and those elements which should look like
	 * buttons
	 */

  button,
  input,
  select,
  textarea {
    font: inherit;
    color: inherit;
    margin: 0;
  }

  /**
	 * remove the inner padding and border from firefox
	 */

  button::-moz-focus-inner,
  [type='button']::-moz-focus-inner,
  [type='reset']::-moz-focus-inner,
  [type='submit']::-moz-focus-inner {
    padding: 0;
    border-style: none;
  }

  /**
	 * `textarea` should only resize vertically as to not break their containers
	 */

  textarea {
    resize: vertical;
    overflow: auto;
  }

  /**
	 * variety of changes to make `fieldset` behave more like a block element
	 */

  fieldset {
    min-width: 0;
    padding: 0;
    border: 0;
    margin: 0;
  }

  /**
	 * reset and reboot `legend` to ensure consistency
	 */

  legend {
    box-sizing: border-box;
    color: inherit;
    display: block;
    max-width: 100%;
    padding: 0;
    white-space: normal;
  }

  /**
	 * generally considered opinionated, we make `label` look clickable
	 */

  .hand,
  label {
    cursor: pointer;
  }

  /**
	 * correct visually different appearance in chrome
	 */

  [type='search'] {
    -webkit-appearance: textfield;
  }

  [type='search']::-webkit-search-cancel-button,
  [type='search']::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  /**
	 * correct cursor style of increment/decrement buttons in chrome
	 */

  [type='number']::-webkit-inner-spin-button,
  [type='number']::-webkit-outer-spin-button {
    height: auto;
  }

  /**
	 * define the majority of inputs here while we're rebooting
	 */

  .postNum .replylink::after {
    content: 'View';
  }

  button,
  input[type='button'],
  input[type='submit'],
  .postNum .replylink::after {
    font-size: 1rem;
    color: var(--text-primary-on-primary);
    background-color: var(--primary-500);
    text-align: center;
    display: inline-block;
    vertical-align: middle;
    padding: .375rem .75rem;
    border: 0;
    border-radius: 2px;
    transition: background-color .25s;
  }

  button:hover,
  input[type='button']:hover,
  input[type='submit']:hover,
  .postNum .replylink:hover::after {
    background-color: var(--primary-700);
    cursor: pointer;
  }

  button:disabled {
    opacity: .75;
    background-color: var(--primary-500);
    cursor: not-allowed;
  }

  .field {
    background-color: transparent;
    padding: .375rem .75rem;
    border: 1px solid var(--background-outline);
    border-radius: 2px;
    transition: all .25s;
  }

  .field:focus {
    border-color: var(--primary-300);
  }

  .field:disabled {
    color: var(--text-disabled-on-light);
    background-color: var(--background-hint);
    cursor: not-allowed;
  }

  /**
	 * give placeholder text within input fields a specific colour and also ensure
	 * it renders consistently across browsers
	 */

  ::placeholder {
    color: var(--text-hint-on-background);
    opacity: 1;
  }

  select {
    background-color: transparent;
    padding: .375rem .75rem;
    border: 1px solid var(--background-outline);
    border-radius: 2px;
  }

  /**
	 * `s` is used for [spoilers], so ensure we style this correctly
	 */

  .postMessage > s {
    text-decoration: none;
    color: var(--gray-900) !important;
    background-color: var(--gray-900);
    transition: color .25s;
  }

  .postMessage s:hover {
    color: var(--gray-50) !important;
  }

  .postMessage s a {
    color: var(--gray-900);
    border-bottom: 0;
  }

  .postMessage s a:hover {
    color: var(--gray-50);
  }

  /**
	 * ensure the only `hr` element, the unread line, is styled consistently across
	 * browsers, and set it to be green as opposed to the default red
	 */

  #unread-line {
    box-sizing: content-box;
    height: 1px;
    background-color: var(--green-500);
    overflow: visible;
    border: 0;
    margin: 0 0 1rem;
  }

  /**
	 * 4chan uses prettify to format [code] tags on /g/
	 * github.com/jmblog/color-themes-for-google-code-prettify
	 */

  .prettyprinted {
    font-size: 87.5%;
    -webkit-font-smoothing: subpixel-antialiased;
    white-space: pre-wrap;
    word-spacing: normal;
    word-break: normal;
    -moz-tab-size: 4;
    tab-size: 4;
    -webkit-hyphens: none;
    -moz-hyphens: none;
    hyphens: none;
    overflow: auto;
    padding: .5rem;
    margin: 0;
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    background-color: #2f3640;
    border-radius: 2px;
  }

  .prettyprinted .kwd,
  .prettyprinted .typ {
    color: #4fc1e9;
  }

  .prettyprinted .com {
    color: #656d78;
  }

  .prettyprinted .tag {
    color: #ed5565;
  }

  .prettyprinted .atn {
    color: #a0d468;
  }

  .prettyprinted .str,
  .prettyprinted .atv {
    color: #ffce54;
  }

  .prettyprinted .lit,
  .prettyprinted .dec {
    color: #ac92ec;
  }

  .prettyprinted .pln,
  .prettyprinted .pun,
  .prettyprinted .opn,
  .prettyprinted .clo,
  .prettyprinted .var,
  .prettyprinted .fun {
    color: #e6e9ed;
  }

  /**
	 * embedded code, such as that found on gist, uses `.prettyprint` from the
	 * default yotsuba stylesheet
	 */

  .prettyprint {
    color: #e6e9ed;
    font-size: 87.5%;
    -webkit-font-smoothing: subpixel-antialiased;
    white-space: pre-wrap;
    word-spacing: normal;
    word-break: normal;
    -moz-tab-size: 4;
    tab-size: 4;
    -webkit-hyphens: none;
    -moz-hyphens: none;
    hyphens: none;
    overflow: auto;
    padding: .5rem;
    margin: 0;
    display: inline-block;
    vertical-align: middle;
    max-height: 70vh;
    max-width: 100%;
    background-color: #2f3640;
    border-radius: 2px;
    /*
		border: none!important;
		background-color: #fff;
		padding: 5px!important;
		display: inline-block;
		max-height: 400px;
		overflow-x: auto;
		max-width: 600px;
		*/
  }

  /**
	 * instead of the font awesome icons that 4chan X uses, we use material icons,
	 * crafted by the botnet themselves, google
	 */

  .menu-button {
    display: inline-block;
    position: relative;
    cursor: pointer;
  }

  .fa::after,
  .menu-button::after,
  .n-pu::after,
  #navlinks a::after,
  #index-rev::after,
  .pagelist .prev a::after,
  .pagelist .next a::after,
  .watch-thread-link::after,
  #index-search-clear::after,
  #index-rev::after,
  .has-submenu::after,
  .show-announcement.entry::after,
  .report-link::after,
  .download-link::after,
  .copy-text-link::after,
  .entry input[type='checkbox']::after,
  .checkbox-letter::after,
  .qr-preview-spoiler::after,
  #add-post::after,
  .gal-start::after,
  .gal-stop::after,
  .gal-close::after,
  .gal-prev::after,
  .gal-next::after,
  .close::after,
  .jump::after,
  .file--video:not(.expanded-image) > .post > .file > .fileThumb::after,
  .file--gif:not(.expanded-image) > .post > .file > .fileThumb::after {
    font-family: var(--font-family-icon);
    font-weight: normal;
    font-style: normal;
    font-size: 24px; /* Preferred icon size. */
    display: inline-block;
    line-height: 1;
    text-transform: none;
    letter-spacing: normal;
    word-wrap: normal;
    white-space: nowrap;
    direction: ltr;
    /* Support for all WebKit browsers. */
    -webkit-font-smoothing: antialiased;
    /* Support for Safari and Chrome. */
    text-rendering: optimizeLegibility;
    /* Support for Firefox. */
    -moz-osx-font-smoothing: grayscale;
    /* Support for IE. */
    font-feature-settings: 'liga';
    /* Added styles. */
    color: inherit;
    visibility: visible;
  }

  .fa-spin::after {
    animation: spin 2s infinite linear;
  }

  @keyframes spin {
    0% {
      transform: rotate(0);
    }

    100% {
      transform: rotate(359deg);
    }
  }

  .menu-button::after {
    content: 'more_vert';
  }

  .fa-eye::after {
    content: 'remove_red_eye';
  }

  .fa-expand::after {
    content: 'fullscreen';
  }

  .fa-compress::after {
    content: 'fullscreen_exit';
  }

  .fa-picture-o::after {
    content: 'photo';
  }

  .fa-comment-o::after {
    content: 'comment';
  }

  .fa-refresh::after {
    content: 'refresh';
  }

  .fa-wrench::after {
    content: 'settings';
  }

  .fa-minus-square::after,
  .fa-minus-square-o::after {
    content: 'remove_circle';
  }

  .fa-plus-square::after,
  .fa-plus-square-o::after {
    content: 'add_circle';
  }

  .fa-times::after,
  .close::after,
  .gal-close::after {
    content: 'close';
  }

  .watch-thread-link::after {
    content: 'favorite_border';
  }

  .watch-thread-link.watched::after {
    content: 'favorite';
  }

  #navlinks a:first-of-type::after {
    content: 'keyboard_arrow_up';
  }

  #navlinks a:last-of-type::after {
    content: 'keyboard_arrow_down';
  }

  #index-rev::after {
    content: 'swap_vert';
  }

  .pagelist .prev a::after {
    content: 'arrow_back';
  }

  .pagelist .next a::after {
    content: 'arrow_forward';
  }

  .fa-edit::after {
    content: 'format_paint';
  }

  .copy-text-link::after,
  .fa-link::after {
    content: 'link';
  }

  #paste-area::after {
    content: 'content_paste';
  }

  .fa-clock-o::after {
    content: 'timer';
  }

  #qr .fa-plus-square::after {
    content: 'add_box';
  }

  #index-search-clear::after,
  .fa-times-circle::after {
    content: 'cancel';
  }

  .qr-preview-spoiler::after,
  .checkbox-letter::after {
    content: 'strikethrough_s';
  }

  #add-post::after {
    content: 'add_box';
  }

  .gal-start::after {
    content: 'play_arrow';
  }

  .gal-stop::after {
    content: 'stop';
  }

  .gal-prev::after,
  .left .has-submenu::after {
    content: 'keyboard_arrow_left';
  }

  .gal-next::after,
  .has-submenu::after {
    content: 'keyboard_arrow_right';
  }

  .jump::after {
    content: 'subdirectory_arrow_right';
  }

  .show-announcement.entry::after {
    content: 'chat_bubble';
  }

  .report-link::after {
    content: 'warning';
  }

  .file--video:not(.expanded-image) > .post > .file > .fileThumb::after {
    content: 'play_circle_outline';
  }

  .file--gif:not(.expanded-image) > .post > .file > .fileThumb::after {
    content: 'gif';
  }

  .fa-download::after,
  .download-link::after {
    content: 'file_download';
  }

  .n-pu::after {
    content: 'person';
  }

  .entry input[type='checkbox']::after {
    content: 'check_box_outline_blank';
  }

  .entry input[type='checkbox']:checked::after {
    content: 'check_box';
  }

  /**
   * we also sub out the default 4chan icons to material icons, but as svg, at 24dp
   * closed: lock
   * archive: archive
   * sticky: place
   */

  .closedIcon {
    background-image: url("data:image/svg+xml, %3Csvg height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z'/%3E%3C/svg%3E");
    height: 0;
    width: 1.5rem;
    padding-top: 1.5rem;
    background-repeat: no-repeat;
  }

  .archivedIcon {
    background-image: url("data:image/svg+xml, %3Csvg height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E");
    height: 0;
    width: 1.5rem;
    padding-top: 1.5rem;
    background-repeat: no-repeat;
  }

  .stickyIcon {
    background-image: url("data:image/svg+xml, %3Csvg height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E");
    height: 0;
    width: 1.5rem;
    padding-top: 1.5rem;
    background-repeat: no-repeat;
  }

  .identityIcon {
    vertical-align: baseline;
  }

  /**
	 * 4CHANX: while shortcut icons are encouraged, if you choose not to use them,
	 * still provide support
	 */

  :root.shortcut-icons #shortcuts .fa {
    font-size: 0;
    visibility: hidden;
  }

  :root:not(.shortcut-icons) #shortcuts .fa::after {
    display: none;
  }

  #watcher-link.replies-quoting-you::after {
    color: var(--secondary-500);
  }

  .boardBanner {
    color: var(--text-primary-on-primary);
    text-align: center;
    height: 40vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background-image: linear-gradient(pink, cornflowerblue);
    overflow: hidden;
    pointer-events: none;
    user-select: none;
    contain: strict;
  }

  .boardTitle {
    font-family: var(--font-family-compliment);
    font-size: calc(100% + 5vw);
    line-height: 1;
    text-transform: lowercase;
    text-shadow: 1rem 1rem 0 var(--primary-500);
    will-change: text-shadow;
    transition: text-shadow .1s;
    z-index: 1;
  }

  /**
	 * support for custom board titles, making it visually obvious they can be edited
	 */

  .boardTitle,
  .boardSubtitle {
    white-space: pre-line;
  }

  .boardTitle[title],
  .boardSubtitle[title] {
    cursor: help;
  }

  .boardTitle[contenteditable='true'],
  .boardSubtitle[contenteditable='true'] {
    cursor: text;
    border-bottom: 1px dashed;
  }

  /**
	 * quoted text, a.k.a. >implying implications in current year, ishygddt
	 */

  .postMessage > .quote {
    color: var(--green-500);
  }

  /**
	 * make warning text visually different
	 */

  .warning {
    color: var(--red-500);
  }

  /**
	 * add another potentially expensive override to inline-styled elements with an
	 * `!important` to ensure they use the red we want, not `red`
	 */

  [color='red'],
  [style*='color:red'],
  [style*='color: red'] {
    color: var(--red-500) !important;
  }

  /**
	 * `.move` is used on elements that can, well, be moved
	 */

  .move {
    cursor: grab;
    overflow: hidden;
  }

  .move:active {
    cursor: grabbing;
  }

  .posteruid {
    font-size: 0;
  }

  .painted {
    font-size: 1rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: .25rem .5rem .125rem;
    border-radius: 2px;
    position: relative;
  }

  .painted:hover::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 2px;
    background-color: rgba(0, 0, 0, .1);
  }

  /**
	 * with the reboot and reset out of the way, we can now work on actual content.
	 * we use a head down approach, so as elements appear in the dom tree, they get
	 * styled first, with elements that you rarely see getting styled later
	 */

  /*
	.dialog {
		background-color: inherit;
		border: 1px solid var(--background-outline);
		box-shadow: 0 7px 15px rgba(0, 0, 0, .2);
	}
*/

  :root.fixed.top-header {
    padding-top: 3rem;
  }

  :root.fixed.bottom-header {
    padding-bottom: 3rem;
  }

  :root.fixed.top-header #header-bar {
    top: 0;
  }

  :root.fixed.bottom-header #header-bar {
    bottom: 0;
  }

  :root.fixed #header-bar {
    position: fixed;
  }

  :root.centered-links #board-list,
  :root.centered-links #header-bar .boardList {
    justify-content: center;
  }

  #header-bar {
    color: var(--text-primary-on-primary);
    background-color: var(--primary-500);
    position: relative;
    z-index: 10;
    padding: 0 1.5rem;
    left: 0;
    right: 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    will-change: background-color, transform;
    transition: background-color .25s, transform .25s;
  }

  /**
	 * 4CHANX: if enabled, autohide `#header-bar` on scroll
	 */

  :root.fixed.top-header #header-bar.autohide:not(:hover) {
    margin-bottom: -1rem;
    transform: translateY(-100%);
  }

  :root.fixed.bottom-header #header-bar.autohide:not(:hover) {
    transform: translateY(100%);
  }

  #board-list,
  #custom-board-list,
  #full-board-list,
  #full-boord-list .boardList {
    display: flex;
    align-items: center;
  }

  #board-list {
    font-family: var(--font-family-compliment);
    flex: 1;
    user-select: none;
  }

  #board-list .boardList {
    flex-wrap: wrap;
  }

  #board-list a {
    text-transform: lowercase;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    padding: 0 .75rem;
    height: 3rem;
    min-width: 3.5rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    will-change: opacity;
    transition: opacity .25s;
    flex-grow: 0;
    flex-shrink: 0;
  }

  #board-list a:not(.current) {
    opacity: .7;
  }

  #board-list a:not(.current):hover {
    opacity: .85;
  }

  #board-list .current {
    opacity: 1;
  }

  #board-list a::after {
    display: none;
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    content: '';
    pointer-events: none;
    background-color: var(--secondary-500);
  }

  #board-list a:hover::after,
  #board-list .current::after {
    display: block;
  }

  :root.centered-links #board-list,
  :root.centered-links #full-board-list .boardList {
    justify-content: center;
  }

  /**
	 * when viewing the full board list, hide all the [, ], and /'s that are used to
	 * separate the boards
	 */

  #full-board-list .boardList span {
    display: none;
  }

  /**
	 * 4CHANX: in the event there are no shortcuts, hide the whole container
	 */

  #shortcuts:empty {
    display: none;
  }

  /**
	 * 4CHANX: at some point, 4chan x may add `.autohiding-scrollbar`, so here it is
	 * for conservation sake
	 */

  :root.autohiding-scrollbar #shortcuts {
    margin-right: 2rem;
  }

  :root:not(.fappeTyme) #shortcut-fappe,
  :root:not(.werkTyme) #shortcut-werk {
    display: none;
  }

  .indicator {
    color: var(--text-primary-on-primary);
    background-color: var(--secondary-500);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    border-radius: 2px;
    transition: background-color .25s;
  }

  .indicator:hover {
    background-color: var(--secondary-700);
    cursor: pointer;
  }

  #shortcuts {
    display: flex;
    align-items: center;
  }

  .shortcut {
    color: var(--text-icon-on-primary);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 3rem;
    height: 3rem;
    padding: 0 .5rem;
    transition: opacity .25s;
  }

  .shortcut:hover {
    color: var(--text-secondary-on-primary);
  }

  .shortcut:not(#shortcut-fappe):not(#shortcut-werk):not(#shortcut-updater):not(#shortcut-stats):not(#shortcut-menu) {
    font-family: var(--font-family-compliment);
  }

  .shortcut > .menu-button {
    display: inline-flex;
  }

  /**
	 * 4CHANX: `#scroll-marker` is used to determine unread post position, amongst
	 * other things
	 */

  #scroll-marker {
    position: absolute;
    display: none;
    height: 1rem;
    left: 0;
    right: 0;
  }

  #header-bar:not(.autohide) #scroll-marker {
    pointer-events: none;
  }

  :root.fixed #scroll-marker {
    display: block;
  }

  :root.fixed.top-header #scroll-marker {
    top: 100%;
  }

  :root.fixed.bottom-header #scroll-marker {
    bottom: 100%;
  }

  /**
	 * SIDEDISH: we add a scrolling progress indicator
	 */

  #scroll-progress {
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    height: .25rem;
    opacity: 0;
    background-color: var(--gray-300);
    border: 0;
    will-change: opacity;
    transition: opacity .25s;
    pointer-events: none;
  }

  :root.bottom-header #scroll-progress {
    bottom: 100%;
    top: auto;
  }

  #header-bar.scrolled #scroll-progress {
    opacity: 1;
  }

  #scroll-progress::-webkit-progress-bar {
    background-color: var(--gray-300);
  }

  #scroll-progress::-webkit-progress-value {
    background-color: var(--green-500);
  }

  #scroll-progress::-moz-progress-bar {
    background-color: var(--green-500);
  }

  /**
	 * 4CHANX: notifications. here is the js to make a notification:
	document.dispatchEvent(new CustomEvent('CreateNotification', {
    detail: {
      type: 'success', // info, warning, error
      content: 'TEXT HERE',
      lifetime: 0
    }
  }));
	 */

  #notifications {
    position: fixed;
    top: 0;
    height: 0;
    text-align: center;
    left: 0;
    right: 0;
    visibility: visible;
  }

  :root.fixed.top-header:not(.gallery-open) #notifications,
  :root.fixed.top-header #header-bar.autohide #notifications {
    position: absolute;
    top: 100%;
  }

  .notification {
    color: var(--text-primary-on-primary);
    margin: .5rem auto 0;
    border-radius: 2px;
    width: 50rem;
    max-width: 100%;
    position: relative;
    padding: .5rem 1rem;
    will-change: opacity;
    transition: opacity .25s;
  }

  .notification.error {
    background-color: var(--red-500);
  }

  .notification.warning {
    background-color: var(--orange-500);
  }

  .notification.success {
    background-color: var(--green-500);
  }

  .notification.info {
    background-color: var(--blue-500);
  }

  .notification .fa-times::after {
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    opacity: .75;
    transition: opacity .25s;
  }

  .notification .fa-times:hover::after {
    opacity: 1;
  }

  /**
	 * in the event the notification message is long (as such in errors), ensure the
	 * notification is given a scrollbar, and also that the scrollbar doesn't go
	 * behind the close button
	 */

  .message {
    white-space: pre-line;
    margin-right: 2rem;
    max-height: 10rem;
    overflow: auto;
  }

  .message a {
    border-bottom: 1px solid;
  }

  /**
	 * 4CHANX: if multiple copies of 4chan x are detected, `:root` receives this class
	 */

  :root.tainted .report-error {
    display: none;
  }

  /**
	 * XXX: currently the announcement causes massive repainting and reflow issues,
	 * at least for me. it occurs when it's used under `position: fixed;`
	 * okay, i'm leaving this here for future self. the whole reason i experienced
	 * such horrible FOUT and reflow is because 4chan x uses `.hide-announcement` on
	 * both `:root` AND the `span` within the announcement itself. and, because i
	 * worry about my css inheritance and stuff, i was using `.hide-announcement` on
	 * its own, not only was the element within the announcement being moved, but
	 * THE ENTIRE DOCUMENT ITSELF.
	 */

  :root.hide-announcement .globalMessage {
    display: none;
  }
  /*
	 make announcement look like a snackbar/toast component
	*/
  .globalMessage {
    contain: content;
    position: fixed;
    bottom: 1.5rem;
    left: 1.5rem;
    max-width: 25vw;
    z-index: 7;
    background-color: var(--background-primary);
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 1rem 1rem .5rem 1.5rem;
    border-radius: 2px;
    box-shadow: 0 0 1.5rem rgba(33, 33, 33, .25);
    transition: box-shadow .25s;
  }

  .globalMessage:hover {
    box-shadow: 0 0 1.75rem rgba(33, 33, 33, .5);
  }

  .globalMessage .hide-announcement {
    font-size: 0;
    margin-left: .5rem;
  }

  .globalMessage .hide-announcement > a {
    font-size: 1rem;
    color: var(--primary-500);
    text-transform: uppercase;
    display: inline-block;
    padding: .25rem .5rem;
    border-radius: 2px;
    transition: all .25s;
  }

  .globalMessage .hide-announcement > a:hover {
    background-color: var(--primary-50);
  }

  /**
	 * as per material spec, a banner would be the more appropriate component to use
	 * https://material.io/design/components/banners.html
	 * but because of the inconsistent method of heading levels, hard to do
	 */
  /*
	.globalMessage {
		contain: content;
		position: fixed;
		z-index: 7;
		background-color: var(--background-primary);
		width: 100%;
		padding: .5rem .5rem .5rem 1rem;
		top: 3.25rem;
		box-shadow: 0 .25rem 1.5rem rgba(33, 33, 33, .25);
	}

	.globalMessage * {
		margin: 0;
		float: left;
	}

	.globalMessage .hide-announcement {
		font-size: 0;
		margin-left: .5rem;
		float: right;
	}

	.globalMessage .hide-announcement > a {
		font-size: 1rem;
		color: var(--primary-500);
		text-transform: uppercase;
		display: inline-block;
		padding: .25rem .5rem;
		border-radius: 2px;
		transition: all .25s;
	}

	.globalMessage .hide-announcement > a:hover {
		background-color: var(--primary-50);
	}
	*/
  /**
	 * thread updater and thread stats. ideally these are within the header, but
	 * if you prefer it to be fixed, we also support that
	 */

  #updater,
  #thread-stats {
    font-family: var(--font-family-monospace);
  }

  :root.float #updater,
  :root.float #thread-stats {
    position: fixed;
    z-index: 5;
    background-color: var(--primary-500);
    display: inline-flex;
    justify-content: center;
    align-items: center;
    height: 1.75rem;
    padding: .5rem;
  }

  #updater {
    color: var(--text-secondary-on-primary);
  }

  #updater > .move {
    position: absolute;
    z-index: -1;
    top: -.125rem;
    right: -.125rem;
    bottom: -.125rem;
    left: -.125rem;
  }

  #updater .new {
    color: var(--green-500);
  }

  #update-status:not(.empty) + #update-timer:not(.empty):not(.loading) {
    margin-left: .5rem;
  }

  #update-timer,
  #page-count {
    cursor: pointer;
  }

  #thread-stats {
    color: var(--text-hint-on-primary);
  }

  #thread-stats span {
    color: var(--text-secondary-on-primary);
  }

  #thread-stats .warning {
    color: var(--red-500);
  }

  :root.float #thread-stats > .move > span:not(#page-count) {
    pointer-events: none;
  }

  /**
	 * 4chan's index, which requires the user to be using the json index of 4chan x
	 */

  .navLinks.json-index {
    color: var(--text-primary-on-primary);
    background-color: var(--primary-500);
    width: 75rem;
    padding: 0 1.5rem;
    max-width: 100%;
    margin: -2rem auto 3rem;
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 3rem;
  }

  #index-search {
    color: var(--text-primary-on-background);
    background-color: var(--background-primary);
    padding-right: 1.5rem;
    margin: 0 1rem;
  }

  #index-search-clear {
    font-size: 0;
    width: 0;
  }

  #index-search-clear::after {
    position: relative;
    color: var(--red-500);
    font-size: 1.125rem;
    left: -2.5rem;
    opacity: .75;
    transition: opacity .25s;
  }

  #index-search-clear:hover::after {
    opacity: 1;
  }

  #hidden-label {
    color: var(--text-secondary-on-primary);
  }

  #index-rev {
    visibility: hidden;
    width: 1.5rem;
    height: 100%;
    margin: 0 .25rem;
    display: inline-flex;
    align-items: center;
  }

  #index-rev::after {
    color: var(--text-icon-on-primary);
    visibility: visible;
    cursor: pointer;
    transition: color .25s;
  }

  #index-rev:checked::after {
    color: var(--secondary-500);
  }

  .navLinks select {
    color: var(--text-primary-on-background);
    background-color: var(--background-primary);
    margin-right: .25rem;
  }

  /**
	 * hide the link to the original index
	 * hide the link to the original catalogue
	 * hide the link to the original archive
	 * hide the link that navigates to the bottom of the page
	 * unless in paged mode, hide the page list
	 * unless in catalogue mode, hide the hidden threads viewer
	 * unless in catalogue mode, hide the size option
	 * unless searching the index, hide the search clear
	 */

  .indexlink,
  .cataloglink,
  .archlistlink,
  .bottomlink,
  :root:not(.paged-mode) .pagelist,
  :root:not(.catalog-mode) #hidden-label,
  :root:not(.catalog-mode) #index-size,
  #index-search:not([data-searching]) + #index-search-clear {
    display: none;
  }

  #index-options {
    display: flex;
    align-items: center;
  }

  #lastlong-options {
    display: inline-flex;
    flex-direction: column;
    margin-right: .25rem;
  }

  #lastlong-options > input {
    font-family: var(--font-family-monospace);
    text-align: center;
    background: none;
    height: 50%;
    width: 2.25rem;
    padding: 0;
    border: 0;
    margin: 1px 0;
  }

  /*
	#lastlong-options > input {
		padding: 0;
		border: 0 !important;
		text-align: center;
		background: transparent;
		display: block;
		font-size: 12px;
		height: 12px;
		width: 30px;
		margin: 1px 0;
	}
*/
	@media (max-width: 75rem) {
    #header-bar {
      padding: 0 .5rem;
    }

    #board-list a {
      font-size: 80%;
      padding: 0 .25rem;
      min-width: 1rem;
    }

    .shortcut {
      font-size: 80%;
      padding: 0 .25rem;
      min-width: 1rem;
    }
  }

  /**
	 * this attempts to ensure that the pagelist and footer always remain at the bottom
	 * of the browser window when or if the content isn't 'tall' enough
	 */

  :root.index .board {
    min-height: calc(100vh - (40vh + 6rem));
  }

  /**
	 * when in a thread, accomodate for the header, hero, board list, and footer
	 */

  :root.thread-view .board {
    min-height: calc(100vh - (40vh + 2rem + 95px + 121px));
  }

  .closed {
    position: fixed;
    display: flex;
    z-index: 10;
    bottom: 0;
    left: 50%;
    height: 3rem;
    align-items: center;
    justify-content: center;
    padding: 0 1.5rem;
    transform: translate(-50%, 0);
    color: var(--text-primary-on-dark);
    border-radius: 2px;
    background-color: var(--gray-900);
  }

  .board {
    max-width: 70rem;
    margin: -2rem auto 0;
    position: relative;
    z-index: 1;
    contain: layout;
  }

  .thread {
    padding: 0 1.5rem;
    margin-bottom: 1rem;
  }

  .board .thread:last-of-type {
    margin-bottom: 2rem;
  }

  .postContainer {
    position: relative;
    margin-bottom: 1rem;
  }

  .thread .postContainer:last-of-type {
    margin-bottom: 0;
  }

  .summary {
    display: block;
    text-align: center;
    background-color: var(--background-primary);
    line-height: 3;
    margin-top: 1px;
    z-index: 1;
    position: relative;
  }

  .post {
    display: flow-root;
    border-radius: 2px;
    background-color: var(--background-primary);
    padding: .5rem 1rem;
    transition: background-color .25s;
    box-shadow: 0 2px 10px 0 rgba(33, 33, 33, .1);
    /* from twitch:
		box-shadow: 0 10px 40px -10px rgba(100,65,164,.2);
		*/
  }

  /**
	 * `.postMessage > a` means that quotelinks inside a quote are green as opposed
	 * to primary, due to `a` having `inherit`. this may affect spoilers
	<span class="quote">
		&gt;
		<a class="linkify pastebin" rel="noreferrer noopener" target="_blank" href="http://pastebin.com/PdPrW5aP">
			http://pastebin.com/PdPrW5aP
		</a>
		<a class="embedder" href="javascript:;" data-key="Pastebin" data-uid="PdPrW5aP" data-options="undefined" data-href="http://pastebin.com/PdPrW5aP">
			(
			<span>
				un
			</span>
			embed)
		</a>
	</span>

	or

	<s>
		<a class="linkify" rel="noreferrer noopener" target="_blank" href="http://exhentai.org/g/801334/9febe8c2a0/">
			http://exhentai.org/g/801334/9febe8
			<wbr>
			c2a0/
		</a>
	</s>
	 */

  .summary > .replylink,
  .postNum > a,
  .postMessage a,
  .container > a {
    color: var(--primary-500);
  }

  .summary > .replylink:hover,
  .postNum > a:hover,
  .postMessage a:hover,
  .container > a:hover {
    color: var(--primary-700);
  }

  .postInfo {
    display: flex;
    align-items: center;
    padding: .5rem 1rem .275rem .5rem;
    background-color: rgba(117, 117, 117, .025);
  }

  .noFile .postInfo {
    border-bottom: 1px solid var(--background-hint);
  }

  .postInfo > .subject {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .post {
    padding: 0;
  }
  /*
	.postMessage {
		padding: .25rem 1rem;
	}

	.postMessage {
		font-size: 1.1rem;
		margin: .5rem;
	}*/

  .replylink:visited::after {
    background-color: var(--primary-700);
  }

  .postMessage:empty {
    display: none;
  }

  .postMessage {
    font-size: 1.125rem;
    margin: .5rem 1rem;
  }

  :root.bottom-backlinks .container {
    display: block;
    font-size: 87.5%;
    font-family: var(--font-family-monospace);
    padding: .25rem .5rem;
    background-color: rgba(117, 117, 117, .025);
    border-top: 1px solid var(--background-hint);
    clear: both;
  }
  /*
	:root.bottom-backlinks .container {
		display: block;
		font-size: 90%;
		font-family: var(--font-family-monospace);
		padding: .25rem .5rem;
		margin: 1rem -1rem -1rem -1rem;
		clear: both;
		background-color: var(--background-secondary);
		border: 1px solid var(--background-outline);
	}

	.container .backlink {
		margin-right: .25rem;
	}
	*/
  /*
	:root.bottom-backlinks .container {
		clear: both;
		display: block;
		font-size: 87.5%;
		font-family: var(--font-family-monospace);
		background-color: var(--background-secondary);
		padding: .25rem .5rem;
		border: 1px solid var(--background-outline);
		margin: 1rem -1rem -.5rem;
	}

	.container .backlink {
		margin-right: .25rem;
	}
*/
  /**
	 * oops, a little too specific it would seem
	 */

  :root .container:empty {
    display: none;
  }

  .summary {
    margin-bottom: 1rem;
  }

  /**
	 * when a backlink has been expanded, make it a little less opaque
	 */

  .inlined {
    opacity: .7;
  }

  .inline {
    margin: .5rem 0;
    clear: both;
    display: flow-root;
    box-shadow: 0 0 1rem rgba(33, 33, 33, .25);
    border-radius: 2px;
  }

  .postMessage .inline {
    margin-bottom: -1rem;
  }

  .container + .inline {
    margin-top: 1.5rem;
  }

  .container ~ .inline:last-of-type {
    margin-bottom: .5rem;
  }
  /*

	.inline {
		border: 1px solid;
		display: table;
		margin: 2px 0;
	}

	.container ~ .inline {
		margin-left: 20px;
	}

	:root.catalog-mode .inline {
		display: none;
	}

	.inline .post {
		border: 0 !important;
		background-color: transparent !important;
		display: table !important;
		margin: 0 !important;
		padding: 1px 2px !important;
	}
	*/

  .postNum > span:last-child {
    font-size: 0;
    vertical-align: middle;
  }

  :root .pagelist:not(.json-index),
  .pagelist {
    display: flex;
    text-align: center;
  }

  .pagelist a {
    color: var(--text-secondary-on-background);
    display: block;
    transition: color .25s, background-color .25s;
  }

  .pagelist a:hover {
    color: var(--text-primary-on-primary);
    background-color: var(--primary-300);
  }

  /**
	 * increase specifity to avoid an `!important`, terrible i know
	 */

  .pagelist .pages > strong > a {
    color: var(--text-primary-on-primary);
    background-color: var(--primary-500);
  }

  .pagelist .prev,
  .pagelist .next {
    width: 10%;
  }

  .pagelist .prev a::after,
  .pagelist .next a::after {
    font-size: 4.25rem;
    flex: 1;
    height: 3rem;
    overflow: hidden;
    display: block;
    padding-top: .25rem;
  }

  .pagelist .pages:not(.cataloglink) {
    font-size: 0;
    flex: 1;
    display: flex;
  }

  .pages a {
    font-size: 3.5rem;
    font-weight: 700;
    line-height: 1;
    padding-top: .25rem;
    height: 3rem;
    flex: 1;
    overflow: hidden;
  }

  .pages strong {
    flex: 1;
  }

  .pagelist button {
    display: none;
  }

  /**
	 * if enabled in the header menu, this will hide the bottom board navigation
	 */

  :root.hide-bottom-board-list #boardNavDesktopFoot {
    display: none;
  }

  #boardNavDesktopFoot::before {
    content: 'Full 4chan Board List';
    font-size: 1.25rem;
    display: block;
    padding: 2rem 1.5rem 0;
    max-width: 75rem;
    margin: auto;
    cursor: ns-resize;
    color: var(--text-primary-on-background);
  }

  #boardNavDesktopFoot:not(.is-active)::before {
    padding-bottom: 2rem;
  }

  #boardNavDesktopFoot {
    font-size: 0;
    font-family: var(--font-family-compliment);
    color: var(--text-secondary-on-background);
    background-color: var(--background-primary);
    border-top: 1px solid var(--background-outline);
  }

  #boardNavDesktopFoot .boardList {
    display: flex;
    flex-wrap: wrap;
    flex-direction: column;
    height: calc(2rem * 20);
    padding: 1rem 1.5rem 2rem;
    width: 100%;
    max-width: 75rem;
    margin: auto;
    transition: height .25s;
    overflow-x: auto;
  }

  #boardNavDesktopFoot:not(.is-active) .boardList {
    height: 0;
    padding: 0;
    overflow: hidden;
  }

  #boardNavDesktopFoot a {
    display: block;
    margin-right: 1rem;
    margin-bottom: .25rem;
  }

  #boardNavDesktopFoot a:hover,
  #boardNavDesktopFoot .current {
    color: var(--text-primary-on-background);
  }

  #boardNavDesktopFoot a::before {
    content: attr(href);
    font-size: 1rem;
    display: inline-block;
    margin-right: .5rem;
    min-width: 5ch;
  }

  #boardNavDesktopFoot a::after {
    content: attr(title);
    font-size: 1rem;
    display: inline;
  }

  #boardNavDesktopFoot a:hover::after {
    border-bottom: 1px solid;
  }

  .absBotText {
    font-size: .85rem;
    color: var(--text-secondary-on-background);
    background-color: var(--background-primary);
    user-select: none;
  }

  .absBotDisclaimer {
    display: block;
    max-width: 75rem;
    padding: 2rem 1.5rem 1rem;
    margin: auto;
    border-top: 1px solid var(--background-outline);
  }

  #footer-links {
    font-size: 0;
    max-width: 75rem;
    padding: 0 1.5rem 2rem;
    margin: 0 auto;
    position: relative;
  }

  #footer-links a {
    font-size: .85rem;
    display: inline-block;
    width: calc((100% / 4) - 1rem);
    margin-right: 1rem;
  }

  #footer-links a:hover {
    color: var(--text-primary-on-background);
  }

  #footer-links::after {
    content: url('https://s.4cdn.org/image/favicon.ico');
    display: block;
    height: 1rem;
    width: 1rem;
    position: absolute;
    right: 1.5rem;
    bottom: 2.125rem;
    filter: grayscale(1);
    opacity: .5;
  }

  /**
	 * if OP has a subject, make it read 'Subject by Anon', just to look cooler
	 */

  .subject:not(:empty)::after {
    content: ' by ';
    font-weight: 400;
    color: var(--text-secondary-on-background);
    margin-right: .25rem;
  }

  /**
	 * show importance of text via colours
	 */

  .ip-counter {
    color: var(--text-secondary-on-background);
  }

  .dateTime,
  .page-num,
  .abbr {
    color: var(--text-hint-on-background);
  }

  /**
	 * gives a bit of space on each side of the time
	 */

  .dateTime {
    margin: 0 .25rem;
  }

  /**
	 * convert 'No.69000' into '#69000'
	 */

  .postNum > a:first-child {
    font-size: 0;
  }

  .postNum > a:first-child::after {
    content: '#';
    font-size: 1rem;
  }

  /**
	 * file formatting
	 */

  .file {
    /*color: var(--text-primary-on-dark);*/
    color: var(--text-hint-on-light);
    position: relative;
  }

  .fileThumb {
    float: left;
    margin: .5rem;
  }

  /**
	 .mdl-tooltip {
    transform: scale(0);
    transform-origin: top center;
    z-index: 999;
    background: rgba(97,97,97,.9);
    border-radius: 2px;
    color: #fff;
    display: inline-block;
    font-size: 10px;
    font-weight: 500;
    line-height: 14px;
    max-width: 170px;
    position: fixed;
    top: -500px;
    left: -500px;
    padding: 8px;
    text-align: center
}

.mdl-tooltip.is-active {
    animation: pulse 200ms cubic-bezier(0,0,.2,1)forwards
}

.mdl-tooltip--large {
    line-height: 14px;
    font-size: 14px;
    padding: 16px
}
@keyframes pulse {
    0% {
        -webkit-transform: scale(0);
        transform: scale(0);
        opacity: 0
    }

    50% {
        -webkit-transform: scale(.99);
        transform: scale(.99)
    }

    100% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
        visibility: visible
    }
}
	*/
  /*
	.fileText {
		font-size: 87.5%;
		padding: .25rem .5rem;
		opacity: 0;
		position: absolute;
		pointer-events: none;
		background-color: rgba(33, 33, 33, .75);
		border-radius: 2px;
		z-index: 1;
		left: .5rem;
		bottom: calc(100% - .5rem);
		transform: scale(0);
		transform-origin: bottom left;
		transition: transform .25s;
	}

	.file:hover .fileText {
		opacity: 1;
		pointer-events: auto;
		transform: scale(1);
	}

			display: flex;
		align-items: center;
		padding: .5rem 1rem .275rem;
		background-color: rgba(117, 117, 117, .025);
*/

  .fileText {
    font-size: 87.5%;
    padding: 0 1rem .125rem;
    background-color: rgba(117, 117, 117, .025);
    border-bottom: 1px solid var(--background-hint);
  }
  /*
	.op {
		display: grid;
		grid:
			"postinfo postinfo"
			"fileinfo fileinfo"
			"file content"
			"backlinks backlinks";
		grid-template-columns: 300px 1fr;
		grid-template-rows: min-content 50px max-content auto;
		background: yellow;
	}

	.op .postInfo {
		grid-area: postinfo;
		background: red;
	}

	.op .file {
		background: purple;
		grid-area: 2 / 1 / span 2;
	}

	.op .fileText {
		border-bottom: 0;
		background: brown;
	}

	.op .postMessage {
		grid-area: 2 / 2 / span 2;
		margin: 0;
		padding: 0;
		background: green;
	}

	.op .postInfo {
		order: -1;
	}

	.op .file {
		width: auto;
		order: 0;
		border-bottom: 1px solid var(--background-hint);
	}

	.op .fileThumb {
		clear: both;
	}
	*/
  .fileText a {
    color: var(--primary-300);
    unicode-bidi: isolate;
  }

  .fa-download::after {
    font-size: 1.125rem;
    vertical-align: bottom;
  }

  .fileText-original,
  .fnswitch:hover > .fntrunc,
  .fnswitch:not(:hover) > .fnfull,
  .expanded-image > .post > .file > .fileThumb > video[data-md5],
  .expanded-image > .post > .file > .fileThumb > img[data-md5],
  .full-image {
    display: none;
  }

  .fnfull {
    overflow-wrap: break-word;
  }

  .full-image {
    cursor: pointer;
  }

  video.full-image {
    min-width: 20rem;
  }

  .expanded-image > .post > .file > .fileThumb > .full-image {
    display: inline;
  }

  .expanded-image {
    clear: left;
  }

  .expanding {
    opacity: .5;
  }

  /**
	 * XXX: the 'fix' targeting a webkit bug regarding viewport units not working
	 * in `calc()` was fixed in 2013/2014, so we don't need that anymore
	 */

  :root.fit-height .full-image {
    max-height: 100vh;
  }

  :root.fixed.fit-height .full-image {
    max-height: calc(100vh - 3rem);
  }

  :root.fit-width .full-image {
    max-width: 100%;
  }

  :root.ua-gecko.fit-width .full-image {
    width: 100%;
  }

  .fileThumb > .warning {
    clear: both;
  }
  /*
	.file--wide .full-image {
		display: block !important;
		width: 100vw;
		max-width: none !important;
		position: relative;
		left: 50%;
		right: 50%;
		margin-left: -50vw;
		margin-right: -50vw;
	}
	*/
  .expanded-image.file--wide .postMessage {
    clear: both;
  }

  /**
	 * this causes an `overflow-x`, but i really think this is a cool effect and
	 * hope to get it working one day
	 */

  .expanded-image.file--wide > .post > .file > .fileThumb {
    position: relative;
    display: block !important;
    max-width: 80vw;
    width: 80vw;
    left: calc(-40vw + (70rem / 2) - 2rem);
  }

  .expanded-image.file--wide > .post > .file > .fileThumb > .full-image {
    width: 100%;
  }
  /*
	.file--wide.file--high .full-image {
		max-width: calc(100vw - 10rem) !important;
	}
	*/

  /**
	 * thread and reply hiding
	 */

  .hide-thread-button,
  .hide-reply-button {
    position: absolute;
    top: 1rem;
    right: 2.5rem;
    opacity: 0;
    z-index: 1;
    will-change: opacity;
    transition: opacity .25s;
  }

  .postContainer:hover > .hide-thread-button,
  .postContainer:hover > div > .hide-reply-button {
    opacity: .75;
  }

  .fa-minus-square::after,
  .fa-minus-square-o::after {
    font-size: 1.125rem;
    color: var(--text-secondary-on-background);
  }

  .stub ~ * {
    display: none;
  }

  /**
	 * XXX: i still hate how horrible stubs look and function, so hopefully if they
	 * are ever rewritten, i will bother with appropriately styling them
	 */

  .stub {
    display: flex;
    background-color: var(--background-primary);
    justify-content: space-between;
    align-items: center;
    padding: .5rem 1rem;
    height: 3rem;
  }

  .stub > a:first-child {
    display: flex;
  }

  .stub .fa-plus-square,
  .stub .fa-plus-square-o {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-right: .25rem;
  }

  .stub > .menu-button {
    color: var(--text-icon-on-background);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    will-change: opacity;
    transition: opacity .25s;
  }

  .stub:hover > .menu-button,
  .stub > .menu-button.active {
    opacity: 1;
  }

  /**
	 * quote previews (when hovering over quotelinks and backlinks) along with image
	 * hovering (plus youtube thumbnail previews). when loading a post from an
	 * archive, `#qp` has no children, just the text 'Loading post No. XXX'
	 */

  #qp,
  #ihover {
    position: fixed;
    z-index: 15;
  }

  #qp .post {
    border: 1px solid var(--background-outline);
    margin: 1rem 1rem 1rem -1rem;
  }

  #qp.warning {
    background-color: var(--background-primary);
    padding: .5rem 1rem;
  }

  /**
	 * fappe and werk tyme support
	 * the indicator code is up with the header and shortcut code
	 */

  :root.fappeTyme .thread > .noFile,
  :root.fappeTyme .threadContainer > .noFile {
    display: none;
  }

  :root.werkTyme .postContainer:not(.noFile) .fileThumb,
  :root.werkTyme .catalog-thumb:not(.deleted-file):not(.no-file),
  :root:not(.werkTyme) .werkTyme-filename {
    display: none;
  }

  /**
	 * /p/ support of exif data
	 */
  /*
	yostuba:
	table.exif {
	display: none;
	min-width: 450px;
}
table.exif td {
	color: #070707;
	min-width: 150px;
	font-size: 8pt;
}
table.exif td b {
	text-decoration: underline;
}
	4chan x
	.catalog-container:not(:hover) .exif,
:root:not(.catalog-hover-expand) .catalog-container .exif {
	display: none !important;
}
.catalog-post > * > .exif {
	border-collapse: collapse;
}
:root.catalog-hover-expand .catalog-container:hover .exif[style*="display: block;"] {
	display: inline-block !important;
}
.catalog-post > * > .exif,
.catalog-post > * > .exif > tbody {
	background-color: inherit;
}
.catalog-post > * > .exif,
.catalog-post > * > .exif td {
	min-width: 0;
}
.catalog-post > * > .exif td {
	padding-top: 1px;
}
*/

  .exif {
    font-size: .75rem;
    display: none;
  }

  /**
	 * while mayhem had the settings dialog within the overlay, ccd0 has it as two
	 * separate elements
	 */

  #overlay {
    position: fixed;
    z-index: 16;
    background-color: rgba(33, 33, 33, .75);
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  #fourchanx-settings {
    position: fixed;
    z-index: 17;
    background-color: var(--background-primary);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 75rem;
    max-width: 90%;
    height: 90vh;
    margin: auto;
    display: flex;
    flex-direction: column;
    contain: paint;
    animation-name: bounceIn;
    animation-duration: .75s;
    animation-fill-mode: both;
  }

  @keyframes bounceIn {
    from,
    20%,
    40%,
    60%,
    80%,
    to {
      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    0% {
      opacity: 0;
      transform: translate(-50%, -50%) scale3d(.3, .3, .3);
    }

    20% {
      transform: translate(-50%, -50%) scale3d(1.1, 1.1, 1.1);
    }

    40% {
      transform: translate(-50%, -50%) scale3d(.9, .9, .9);
    }

    60% {
      opacity: 1;
      transform: translate(-50%, -50%) scale3d(1.03, 1.03, 1.03);
    }

    80% {
      transform: translate(-50%, -50%) scale3d(.97, .97, .97);
    }

    to {
      opacity: 1;
      transform: translate(-50%, -50%) scale3d(1, 1, 1);
    }
  }

  #fourchanx-settings nav {
    font-size: 0;
    font-family: var(--font-family-compliment);
    color: var(--text-primary-on-primary);
    background-color: var(--primary-500);
    display: flex;
    align-items: center;
    padding: 0 1.5rem;
    text-transform: lowercase;
  }

  .sections-list,
  .credits {
    display: flex;
  }

  #fourchanx-settings nav a:not([download]) {
    font-size: 1rem;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    height: 3rem;
    padding: 0 .75rem;
    position: relative;
    min-width: 3.5rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    will-change: opacity;
    opacity: .7;
    transition: opacity .25s;
    flex-grow: 0;
    flex-shrink: 0;
  }

  #fourchanx-settings nav a:not([download]):hover {
    opacity: .85;
    cursor: pointer;
  }

  #fourchanx-settings nav a.tab-selected {
    opacity: 1;
  }

  #fourchanx-settings nav a:not(.close)::after {
    display: none;
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    content: '';
    pointer-events: none;
    background-color: var(--secondary-500);
  }

  #fourchanx-settings nav a:not(.close):hover::after,
  #fourchanx-settings nav a.tab-selected::after {
    display: block;
  }

  /**
	 * this element is used to spit out the importing and exporting results of 4chan
	 * x settings. we conveniently use it to space out the settings links
	 */

  .imp-exp-result {
    flex: 1;
    margin: 0;
  }

  /**
	 * since `.unscroll` isn't added to `body`, we can make use of some bleeding edge
	 * CSS, in the form of `overscroll-behavior`, which means scrolling is contained
	 * to the settings and will not effect the entire document
	 * https://caniuse.com/#feat=css-overscroll-behavior
	 */

  .section-container {
    flex: 1;
    overflow: auto;
    overscroll-behavior: contain;
    padding: 0 1rem;
  }

  .section-container > section {
    padding: .5rem 0 1rem;
  }

  #fourchanx-settings fieldset {
    padding: 1rem;
    border: 1px solid rgba(33, 33, 33, .25);
    border-radius: 2px;
    margin-bottom: 1rem;
  }

  #fourchanx-settings fieldset:last-of-type {
    margin: 0;
  }

  #fourchanx-settings legend {
    padding: 0 .5rem;
  }

  #fourchanx-settings label {
    display: block;
  }

  #fourchanx-settings textarea {
    font-family: var(--font-family-monospace);
    width: 100%;
  }

  #fourchanx-settings .description {
    color: var(--text-secondary-on-background);
    display: block;
  }

  #fourchanx-settings button + .description {
    display: inline-block;
    margin-left: 1rem;
  }

  /**
	 * if an option has sub-options, but isn't activated, don't bother showing them
	 */

  div[data-checked='false'] > .suboption-list {
    display: none;
  }

  .suboption-list {
    position: relative;
    margin-left: 1rem;
  }

  .section-main > fieldset > div[data-name] {
    margin-left: 4rem;
    margin-bottom: .5rem;
  }

  .section-main > fieldset > div[data-name]:last-of-type {
    margin-bottom: 0;
  }

  .suboption-list > div[data-name] {
    margin-top: .5rem;
  }

  .suboption-list > div[data-name]:not(:last-of-type) {
    margin-bottom: .5rem;
  }

  /**
	 * instead of boring checkboxes, we turn the settings into fancy toggle switches!
	 * due to how they are generated, we are not able to also include a ripple effect
	 */

  .section-main input[type='checkbox'] {
    visibility: hidden;
    position: absolute;
    left: -99rem;
  }

  .section-main label {
    position: relative;
  }

  /**
	 * switch background
	 */

  .section-main label::before {
    content: '';
    display: inline-block;
    width: 3rem;
    height: 1rem;
    background-color: #000;
    opacity: .38;
    border-radius: 1rem;
    transition: all .25s;
    position: absolute;
    left: -4rem;
    top: 1rem;
  }

  .section-main div[data-checked='true'] > label::before {
    background-color: var(--secondary-300);
    opacity: .5;
  }

  /**
	 * switch knob
	 */

  .section-main label::after {
    content: '';
    background-color: #fafafa;
    display: inline-block;
    position: absolute;
    border-radius: 50%;
    transition: all .25s;
    width: 1.5rem;
    height: 1.5rem;
    left: -4.25rem;
    top: .75rem;
    box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
  }

  .section-main div[data-checked='true'] > label::after {
    background-color: var(--secondary-500);
    transform: translateX(2rem);
  }

  .section-filter select {
    width: 100%;
    margin-bottom: 1rem;
  }

  .section-filter ul {
    padding: 0 2rem;
    margin: 1rem 0;
  }

  .section-filter textarea,
  .section-sauce textarea {
    height: 40rem;
  }

  #sauce-doc-expand:not(:checked) ~ #sauce-doc {
    max-height: 12rem;
    overflow: auto;
  }

  #sauce-doc > label {
    float: right;
    margin: 0 .5rem;
  }

  #sauce-doc {
    margin-bottom: 1rem;
  }

  /**
	 * XXX: needed for oneechan
	 */

  #sauce-doc-expand + .riceCheck {
    display: none;
  }

  .section-advanced > fieldset:first-child {
    position: relative;
  }

  #archive-board-select {
    position: absolute;
    background-color: var(--background-primary);
    top: 0;
    left: 7.5rem;
  }

  #archive-table {
    width: 100%;
  }

  #archive-table .archive-cell {
    text-align: center;
    width: calc(100% / 3);
  }

  #lastarchivecheck + label {
    float: right;
  }

  .section-advanced .note {
    font-size: 80%;
    color: var(--text-secondary-on-background);
    margin-left: 1rem;
  }

  .section-advanced a {
    color: var(--primary-500);
  }

  .section-advanced textarea {
    height: 10rem;
  }

  .section-advanced textarea[name='archiveLists'] {
    height: 5rem;
  }

  .favicon-preview > img:nth-of-type(3n + 1) {
    margin-left: .5rem;
  }

  .section-keybinds table {
    margin: auto;
  }

  .section-keybinds .field {
    font-family: var(--font-family-monospace);
  }

  /**
	 * `.unscroll` should be added to `body`, but for whatever reason, it isn't,
	 * which means the background can still be scrolled with the settings open
	 * https://github.com/ccd0/4chan-x/issues/1303
	 * left here for future-proofness. however, it should also be noted i put
	 * `overflow-y` on `:root`, not body, negating the effect.

	 */

  .unscroll {
    overflow: hidden;
  }

  /**
	 * `#navlinks` is used to navigate to the next thread on the index, and to the
	 * top and bottom of the page within threads. not needed in catalogue mode, so it
	 * is hidden
	 */

  #navlinks {
    position: fixed;
    z-index: 10;
    top: 5rem;
    right: 0;
    font-size: 0;
    color: var(--text-secondary-on-primary);
    background-color: var(--primary-500);
  }

  #navlinks a:hover::after {
    background-color: var(--primary-700);
    transition: background-color .25s;
  }

  :root.catalog-mode #navlinks {
    display: none;
  }

  /**
	 * menus, heavily influenced and styled off material design
	 */

  .post .menu-button {
    position: absolute;
    top: 1rem;
    right: 1rem;
    z-index: 2;
  }

  .post .menu-button::after {
    font-size: 1.125rem;
    color: var(--text-secondary-on-background);
  }

  .post > .postInfo > .menu-button {
    opacity: 0;
    will-change: opacity;
    transition: opacity .25s;
  }

  .post > .postInfo > .menu-button.active,
  .post:hover > .postInfo > .menu-button {
    opacity: 1;
  }

  .menu-button.active::after {
    border-radius: 2px;
    box-shadow: 0 0 .125rem .125em var(--primary-50);
  }

  #menu {
    position: fixed;
    z-index: 16;
    font-size: 90%;
    color: var(--text-primary-on-background);
    background-color: var(--background-primary);
    white-space: nowrap;
    padding: .5rem 0;
    border: 1px solid rgba(33, 33, 33, .25);
    border-radius: 2px;
  }

  .entry {
    line-height: 2.5rem;
    display: block;
    position: relative;
    min-width: 12.5rem;
    cursor: pointer;
    padding: 0 1rem;
    transition: background-color .25s;
  }

  .entry:hover {
    background-color: var(--background-secondary);
  }

  .entry .shortcut-text {
    font-size: 75%;
    color: var(--text-hint-on-background);
    margin-left: .5rem;
  }

  .entry.has-shortcut-text {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .show-announcement.entry::after,
  .entry::after {
    color: var(--text-icon-on-background);
    position: absolute;
    right: .5rem;
    font-size: 1rem;
    line-height: 2.5rem;
  }

  .submenu {
    display: none;
    position: absolute;
    left: 100%;
    background-color: var(--background-primary);
    padding: .5rem 0;
    border: 1px solid rgba(33, 33, 33, .25);
    border-radius: 2px;
    margin-top: calc((.5rem + 1px) * -1);
  }

  .submenu[style*='m: 0'] {
    margin-top: 0;
    margin-bottom: calc((.5rem + 1px) * -1);
  }

  .focused > .submenu {
    display: block;
  }

  /**
	 * not sure what this is left over from actually
	 */

  .entry .field {
    width: auto;
  }

  .entry input[type='number'] {
    width: 5rem;
    padding: 0 0 0 .375rem;
  }

  .entry input[type='checkbox'] {
    visibility: hidden;
    margin-right: .5rem;
  }

  .entry input[type='checkbox']::after {
    font-size: 1.125rem;
    color: var(--text-icon-on-background);
    visibility: visible;
    display: block;
  }

  .entry input[type='checkbox']:checked::after {
    content: 'check_box';
    color: var(--green-500);
  }

  /**
	 * firefox doesn't allow pseudo elements for input elements, so instead of being
	 * fancy with the material icon, we go back to the intended checkbox
	 */

  :root.ua-gecko .entry input[type='checkbox'] {
    visibility: visible;
  }

  /**
	 * thread watcher
	 */

  :root.fixed-watcher #thread-watcher {
    z-index: 10;
    position: fixed;
  }

  #thread-watcher {
    z-index: 5;
    position: absolute;
    background-color: var(--background-primary);
    white-space: nowrap;
    min-width: 10rem;
  }

  #thread-watcher > .move {
    font-family: var(--font-family-compliment);
    text-transform: lowercase;
    background-color: var(--primary-500);
    display: flex;
    align-items: center;
    height: 3rem;
    padding: 0 1.5rem;
    color: var(--text-primary-on-primary);
  }

  #thread-watcher > .move > .refresh {
    display: inline-flex;
    align-items: center;
    margin-left: .5rem;
    opacity: .7;
    transition: opacity .25s;
  }

  #thread-watcher > .move > .refresh:hover {
    opacity: .85;
  }

  #watcher-status {
    flex: 1;
  }

  #thread-watcher > .move > .menu-button {
    font-family: var(--font-family-default);
    text-transform: capitalize;
    display: inline-flex;
    align-items: center;
    margin-right: .5rem;
  }

  #thread-watcher > .move > .close {
    font-size: 0;
  }

  #watched-threads {
    overflow-x: hidden;
    overflow-y: auto;
    border: 1px solid var(--background-outline);
    border-top: 0;
  }

  #watched-threads:empty::after {
    content: 'No threads being watched.';
    display: block;
    color: var(--text-hint-on-background);
    padding: .25rem 1rem;
  }

  :root.fixed-watcher #watched-threads {
    max-height: 85vh;
  }

  :root:not(.fixed-watcher) #watched-threads:not(:hover) {
    max-height: 210px;
    overflow-y: hidden;
  }

  #watched-threads > div {
    display: flex;
    align-items: center;
    height: 3rem;
    padding: 0 1.5rem;
  }

  #watched-threads > div:nth-of-type(even) {
    background-color: var(--background-secondary);
  }

  #watched-threads .fa-times {
    display: inline-flex;
    align-items: center;
    margin-right: .5rem;
    color: var(--red-500);
  }

  #watched-threads .fa-times:hover {
    color: var(--red-700);
  }

  #watched-threads .dead-thread > .watcher-link {
    text-decoration: line-through;
    color: var(--text-hint-on-background);
    opacity: .75;
  }

  #watched-threads .replies-read {
    color: var(--text-secondary-on-background);
  }

  #watched-threads > .current .watcher-title {
    font-weight: 700;
  }

  #watched-threads .watcher-link {
    max-width: 22.5rem;
    display: inline-flex;
    flex-direction: row;
  }

  #watched-threads .watcher-unread {
    flex: 0;
    margin-right: .25rem;
  }

  #watched-threads .watcher-title {
    overflow: hidden;
    text-overflow: ellipsis;
    flex: 0 1 auto;
  }

  #watched-threads .replies-unread .watcher-link {
    color: var(--blue-500);
  }

  #watched-threads .replies-quoting-you .watcher-link {
    color: var(--red-500);
  }

  /**
	 * `.watcher-link.replies-unread` & `.watcher-link.replies-quoting-you`
	 */

  .watch-thread-link {
    position: relative;
    display: inline-block;
    vertical-align: middle;
  }

  .watch-thread-link::after {
    color: var(--red-500);
    opacity: .7;
    transition: opacity .25s;
  }

  .watch-thread-link:hover::after {
    opacity: .85;
  }

  .watch-thread-link.watched::after {
    opacity: 1;
  }

  /**
	 * add a ripple effect when you watch a thread using the icon
	 */

  .watch-thread-link::before {
    content: '';
    position: absolute;
    opacity: 0;
    pointer-events: none;
    border-radius: 50%;
    background-color: rgba(222, 68, 44, .26);
    height: 1.25rem;
    width: 1.25rem;
    transform-origin: 50% 50%;
    transform: scale(.75);
    transition: opacity .25s, transform .25s;
  }

  .watch-thread-link:active::before {
    opacity: 1;
    transform: scale(2);
  }

  #embedding {
    position: fixed;
    z-index: 10;
  }

  /**
	 * embeddable links have (unembed) after it, so if it
	 */

  .embedder:not(.embedded) > span,
  #embedding.empty {
    display: none;
  }

  #embedding > div:first-child {
    display: flex;
    font-size: 0;
    color: var(--text-primary-on-primary);
    background-color: var(--primary-500);
    padding: 0 1.5rem;
    height: 3rem;
    align-items: center;
  }

  #embedding .move {
    flex: 1;
  }

  #embedding .move::before {
    content: 'embedded content';
    font-family: var(--font-family-compliment);
    font-size: 1rem;
  }

  #embedding .jump::after {
    margin-right: .5rem;
  }

  #media-embed {
    background-color: var(--background-primary);
  }

  /**
	 * the 4chan x quick reply, where we first hide things that aren't needed in certain
	 * scenarios, and then we'll style the actual qr itself
	 * :root.thread-view #qr:not(.show-new-thread-option) select[data-name="thread"]
	 * #qr.forced-anon input[data-name="name"]:not(.force-show)
	 */

  /**
	 * all these are elements are rendered, all the time, even if they are not needed
	 * (for example, sjis and tex toggles), so here is an attempt to do what isn't in
	 * 4chan x's css, an explanation as to what is hidden and when.
	 * please note, lines with an additional asterisk overides the matching 4chan x
	 * setting
	 *
	 * 01) the body of `#qr` when autohide is enabled, and isn't focused
	 * 02) the checkbox to make `#qr` autohide (click the label/title)
	 * 03)* the new thread options selector (just do it normally, lazy)
	 * 04) the subject field when in a thread
	 * 05)* the name field when board is forced anon
	 * 06)* the subject field when board is forced anon
	 * 07) the tag for flash files, when not on /f/
	 * 08) the tag for flash files, when in a thread on /f/
	 * 09) the mona font toggler, when not on /jp/
	 * 10) the tex font toggler, when not on /sci/
	 * when a file is uploaded, has the oekaki manager
	 * if there is no file, hide the 'remove file' icon
	 */

  #qr.autohide:not(.focus):not(:hover):not(:active) > form,
  #autohide,
  #qr select[data-name='thread'],
  #qr.reply-to-thread [name='sub'],
  #qr.forced-anon [name='name'],
  #qr.forced-anon [name='sub'],
  body:not(.board_f) #qr [name='filetag'],
  #qr.reply-to-thread [name='filetag'],
  #qr:not(.has-sjis) #sjis-toggle,
  #qr:not(.has-math) #tex-preview-button,
  #qr.tex-preview .textarea > :not(#tex-preview),
  #qr:not(.tex-preview) #tex-preview,
  #qr:not(.dump) #dump-list-container,
  #qr .oekaki.has-file,
  #file-n-submit:not(.has-file) #qr-filerm {
    display: none;
  }

  #qr {
    position: fixed;
    z-index: 10;
    background-color: var(--background-primary);
    min-width: 30rem;
    max-width: 50rem;
    contain: paint;
    box-shadow: 0 2px 10px 0 rgba(33, 33, 33, .1);
  }

  #qr > .move {
    color: var(--text-primary-on-primary);
    background-color: var(--primary-500);
    padding: 0 1.5rem;
    display: flex;
    height: 3rem;
    align-items: center;
    justify-content: space-between;
  }

  #qr > .move > label {
    font-family: var(--font-family-compliment);
    text-transform: lowercase;
  }

  #qr > .move > .close {
    font-size: 0;
  }

  #qr > form {
    padding: 1rem;
    border: 1px solid var(--background-outline);
    border-top: 0;
    max-height: calc(100vh - 5rem);
    overflow-x: hidden;
    overflow-y: auto;
  }

  #qr .persona {
    display: flex;
    margin-bottom: .5rem;
  }

  #qr .persona .field {
    flex: 1;
  }

  #qr .persona .field:not(:first-of-type) {
    margin-left: .5rem;
  }

  #qr .persona .field:hover,
  #qr .persona .field:focus {
    flex: 1.5;
  }

  #qr .persona button {
    margin-right: .5rem;
  }

  /**
	 * when previewd, give the button a toggled state
	 */

  #qr.sjis-preview #sjis-toggle,
  #qr.tex-preview #tex-preview-button {
    background-color: var(--primary-300);
  }

  #qr .textarea {
    position: relative;
    margin-bottom: .5rem;
  }

  #qr textarea {
    display: block;
    min-height: 10rem;
    min-width: 100%;
  }

  #char-count {
    position: absolute;
    pointer-events: none;
    font-size: .75rem;
    right: .5rem;
    bottom: .5rem;
  }

  /**
	 * captcha and recaptcha related styling
	 */

  /**
	 * personally this hasn't happened to me, but it's in the original 4chan x css
	 * so i've included it for consistency sake. apparently it disables obnoxious
	 * captcha fade-in and fixes the captcha scrolling to the top of the page:
			body > div:last-of-type {
				transition: none !important;
			}

			body > div[style*=" top: -10000px;"] {
				visibility: hidden !important;
			}
	 */

  /**
	 * if using the v1 captcha or noscript captcha, hide the `iframe` that warns
	 * you to enable js. also, v1 captcha is being deprecated, but still make it
	 * look sort of okay
	 */

  #qr.captcha-v1 #qr-captcha-iframe {
    display: none;
  }

  #qr.captcha-v1 .captcha-img {
    text-align: center;
    min-height: 59px;
    min-width: 302px;
    margin-bottom: .5rem;
    cursor: pointer;
  }

  #qr.captcha-v1 .captcha-input {
    width: 100%;
    margin-bottom: .5rem;
  }

  #qr .captcha-root {
    position: relative;
    margin-bottom: .5rem;
  }

  #qr .captcha-container > div {
    margin: auto;
    width: 304px;
    /*added:*/
    overflow: hidden;
  }

  /* XXX scrollable with scroll bar hidden; prevents scroll on space press */
  /*
	:root.ua-blink #qr .captcha-container > div,
	:root.ua-edge #qr .captcha-container > div {
		overflow: hidden;
	}

	:root.ua-blink #qr .captcha-container > div > div:first-of-type,
	:root.ua-edge #qr .captcha-container > div > div:first-of-type {
		overflow-y: scroll;
		overflow-x: hidden;
		padding-right: 30px;
		height: 99%;
		width: 100%;
	}
*/
  #qr .captcha-counter {
    text-align: center;
    pointer-events: none;
  }

  #qr .captcha-counter {
    display: block;
    width: 100%;
    text-align: center;
    pointer-events: none;
  }

  #qr.captcha-open .captcha-counter {
    position: absolute;
    bottom: 3px;
  }

  #qr .captcha-counter > a {
    pointer-events: auto;
    display: inline-block;
    /* XXX https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8851747/ */
  }

  #qr:not(.captcha-open) .captcha-counter > a {
    display: block;
    width: 100%;
  }

  #qr.captcha-v2 #qr-captcha-iframe {
    width: 302px;
    height: 423px;
    border: 0;
    display: block;
    margin: auto;
  }

  .goog-bubble-content {
    max-width: 100vw;
    max-height: 100vh;
    overflow: auto;
  }

  .goog-bubble-content iframe {
    position: static !important;
  }

  #g-recaptcha {
    min-height: 78px;
    height: auto;
  }



  /**
	 * dump list and general dumping ui
	 */

  #dump-list-container {
    position: relative;
    overflow-y: hidden;
    margin-bottom: .5rem;
  }

  #dump-list {
    overflow: auto;
    white-space: nowrap;
    display: flex;
    flex-wrap: wrap;
    min-height: 8.5rem;
    max-height: 10rem;
  }

  #dump-list .qr-preview:only-of-type > .remove,
  .qr-preview:not(.has-file) label,
  #qr:not(.has-spoiler) .qr-preview-spoiler,
  #qr:not(.has-spoiler) #qr-spoiler-label,
  #file-n-submit:not(.has-file) #qr-spoiler-label,
  #file-n-submit.has-file #paste-area,
  #file-n-submit.has-file #url-button,
  #file-n-submit:not(.custom-cooldown) #custom-cooldown-button {
    display: none;
  }

  .qr-preview {
    display: inline-block;
    flex: none;
    counter-increment: thumbnails;
    height: 7.5rem;
    width: 7.5rem;
    cursor: move;
    padding: .25rem;
    opacity: .5;
    margin-right: .25rem;
    margin-bottom: .25rem;
    position: relative;
    overflow: hidden;
    background-size: cover;
    background-color: var(--gray-50);
    will-change: opacity, transform;
    transition: opacity .25s, transform .25s;
  }

  .qr-preview::before {
    content: counter(thumbnails);
    position: aboslute;
    top: 0;
    right: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: .75rem;
    width: 1.5rem;
    height: 1.5rem;
    color: var(--text-primary-on-dark);
    background-color: var(--background-outline);
    border-radius: 50%;
  }

  .qr-preview:hover,
  .qr-preview:focus {
    opacity: .85;
  }

  #selected {
    opacity: 1;
  }

  .qr-preview.drag {
    transform: scale(.8);
  }

  .qr-preview.over {
    transform: scale(1.1);
    z-index: 1;
  }

  .qr-preview .fa-times-circle::after {
    font-size: 1.125rem;
    color: var(--red-500);
    cursor: pointer;
  }

  .qr-preview.has-file > span {
    color: var(--text-primary-on-primary);
  }

  .qr-preview-spoiler {
    font-size: 0;
  }

  #add-post {
    font-size: 0;
    position: absolute;
    right: 0;
    bottom: 0;
  }

  #add-post::after {
    font-size: 3rem;
    color: var(--blue-500);
    transition: color .25s;
  }

  #add-post:hover::after {
    color: var(--blue-700);
  }

  /**
	 * oekaki support, thanks to /i/ and /ic/
	 */

  #qr .oekaki {
    display: flex;
    align-items: stretch;
    margin-bottom: .5rem;
  }

  #qr-draw-button {
    width: 15%;
    margin-right: .5rem;
  }

  #qr .oekaki > label {
    flex: 1;
    margin-right: .5rem;
  }

  #qr .oekaki > label > span {
    color: var(--text-hint-on-background);
    margin-right: .25rem;
  }

  #qr .oekaki > label > input {
    max-width: 10rem;
  }

  #qr .oekaki-bg {
    display: inline-block;
    position: relative;
    width: 15%;
  }

  #qr .oekaki-bg input[name='oekaki-bg'] {
    position: absolute;
    z-index: 1;
  }

  #qr .oekaki-bg input[name='oekaki-bgcolor'] {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    border: none;
    padding: 0;
    background: none;
  }

  #qr .oekaki-bg input[name='oekaki-bg']:not(:checked) + input[name='oekaki-bgcolor'] {
    display: none;
  }

  #file-n-submit {
    display: flex;
    align-items: stretch;
  }

  #qr-file-button {
    width: 15%;
    margin-right: .5rem;
  }

  /**
	 * we use the extremely handy `all: unset` here because this element has the
	 * `field` class added to it, which you use specifically to style input elements
	 */

  #qr-filename-container {
    all: unset;
    flex: 1;
    display: flex;
    align-items: stretch;
    position: relative;
    margin-right: .5rem;
  }

  #qr-filename,
  #file-n-submit.has-file #qr-no-file {
    display: none;
  }

  #qr-no-file,
  #file-n-submit.has-file #qr-filename {
    flex: 1;
    padding: .375rem .75rem .375rem 0;
    display: inline-block;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  #qr-no-file {
    color: var(--text-hint-on-background);
  }

  #qr-filename {
    background-color: transparent;
    border: 0;
  }

  .qr-spoiler-label {
    position: relative;
  }

  #qr-file-spoiler {
    position: absolute;
    opacity: 0;
    pointer-events: none;
  }

  #qr-file-spoiler:checked + .checkbox-letter::after {
    opacity: 1;
  }

  .checkbox-letter {
    font-size: 0;
  }

  #qr-filename-container .fa::after,
  .checkbox-letter::after {
    margin-top: .375rem;
    margin-right: .25rem;
    opacity: .55;
    cursor: pointer;
    transition: opacity .25s;
  }

  #qr.dump #dump-button .fa::after,
  #qr-filename-container .fa:hover::after,
  .checkbox-letter:hover::after {
    opacity: .85;
  }

  #custom-cooldown-button.disabled {
    opacity: .25;
  }

  #file-n-submit input[type='submit'] {
    background-color: var(--secondary-500);
    width: 25%;
  }

  #file-n-submit input[type='submit']:hover {
    background-color: var(--secondary-700);
  }

  /**
	 * visually hide the file input
	 */

  #qr [type='file'] {
    visibility: hidden;
    position: absolute;
  }

  select[name='filetag'],
  .flagSelector {
    width: 100%;
    margin-top: .5rem;
  }

  /**
	 * /sci/ speciality
	 * The quadratic formula is [math]-b \pm \sqrt{b^2 - 4ac} \over 2a[/math].
	 */

  /**
	 * quoting
	 */

  .hashlink::before {
    content: ' ';
  }
  /*
	.quotelink.forwardlink,
	.backlink.forwardlink {
		text-decoration: underline;
		text-decoration-style: dashed;
		border-bottom: none;
	}
	*/
  /**
	 * fancy underline animation, courtesy of https://theoutline.com
	 * https://www.news47ell.com/articles/use-svg-css-instead-text-decoration-underline/
	 * https://codepen.io/tigt/post/optimizing-svgs-in-data-uris
	 * we aren't able to access the css variable `--primary-500`, and so the colour
	 * of the squiggly line svg always needs to be set manually
	 */

  .quotelink.forwardlink,
  .backlink.forwardlink {
    background-image: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 4'%3E%3Cstyle%3E.st%7Banimation:shift .5s linear infinite;stroke:currentColor;%7D@keyframes shift %7Bto %7Btransform:translateX%28-20px%29;%7D%7D%3C/style%3E%3Cpath fill='none' d='M0 3.5c5 0 5-3 10-3s5 3 10 3 5-3 10-3 5 3 10 3' class='st' style='stroke:var%28--primary-500, currentColor%29;'/%3E%3C/svg%3E");
    background-position: 0 100%;
    background-size: auto 3px;
    background-repeat: repeat-x;
  }

  /**
	 * when enabled, marks OP's posts with (OP), but make it a little visually
	 * different
	 */

  .qmark-op,
  .qmark-dead {
    opacity: .5;
    position: relative;
    font-size: 75%;
    line-height: 0;
    vertical-align: baseline;
    top: -.5em;
  }

  .deadlink {
    opacity: .5;
    text-decoration: line-through;
  }

  :root.thread-hide .party-hat {
    left: 19px;
  }

  .party-hat {
    left: 0;
    margin-top: -80px;
    position: absolute;
    pointer-events: none;
    z-index: 1;
  }

  /**
	 * quote threading
	 */

  .threadContainer {
    margin: 0 0 1rem 1.5rem;
  }

  /**
	 * appchan's gallery mode, baked right into 4chan x.
	 * first we style the gallery container

	 */

  #a-gallery {
    position: fixed;
    z-index: 20;
    background-color: rgba(33, 33, 33, .75);
    display: flex;
    flex-direction: row;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }

  /**
	 * `.gal-viewport` is where the images and controls are kept
	 */

  .gal-viewport {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    flex: 1;
    overflow: hidden;
    position: relative;
  }

  .gal-buttons {
    position: absolute;
    top: 1.5rem;
    left: 50%;
    display: flex;
    color: var(--text-primary-on-dark);
    background-color: rgba(33, 33, 33, .5);
    padding: .5rem 1rem;
    border-radius: 2px;
  }

  .gal-buttons.gal-playing > .gal-start,
  .gal-buttons:not(.gal-playing) > .gal-stop {
    display: none;
  }

  .gal-buttons > a::after {
    font-size: 3rem;
    margin-right: 1rem;
    opacity: .7;
    transition: opacity .25s;
  }

  .gal-buttons > a:hover::after {
    opacity: .85;
  }

  .gal-buttons > a:last-child::after {
    margin-right: 0;
  }

  .gal-close {
    font-size: 0;
  }

  .gal-name {
    display: block;
    position: absolute;
    bottom: 1.5rem;
    left: 50%;
    transform: translateX(-50%);
    color: var(--text-primary-on-dark);
    background-color: rgba(33, 33, 33, .5);
    padding: .5rem 1rem;
    border-radius: 2px;
    z-index: 1;
  }

  .gal-name:hover {
    color: var(--primary-300);
  }

  .gal-count {
    display: block;
    position: absolute;
    bottom: 4.5rem;
    left: 50%;
    transform: translateX(-50%);
    color: var(--text-hint-on-dark);
    background-color: rgba(33, 33, 33, .5);
    padding: .5rem 1rem;
    border-radius: 2px;
    pointer-events: none;
  }

  .gal-count > span {
    color: var(--text-primary-on-dark);
  }

  .gal-image {
    flex: 1;
    display: flex;
    align-items: flex-start;
    justify-content: space-around;
    overflow: hidden;
  }

  .gal-image > a {
    display: block;
    margin: auto;
    max-width: 100%;
  }

  :root.gal-pdf .gal-image a,
  .gal-image iframe {
    width: 100%;
    height: 100%;
  }

  :root.gal-fit-width .gal-image [src] {
    max-width: 100%;
  }

  :root.gal-fit-height .gal-image [src] {
    max-height: 100vh;
  }

  .gal-prev,
  .gal-next {
    color: var(--text-primary-on-dark);
    cursor: pointer;
  }

  .gal-prev::after,
  .gal-next::after {
    font-size: 3rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
    padding: 0 .75rem;
    opacity: .7;
  }

  .gal-prev:hover::after,
  .gal-next:hover::after {
    background-color: rgba(33, 33, 33, .5);
  }

  .gal-prev {
    cursor: url('data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="#fff99" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>') 16 16, auto;
  }

  /**
	 * `.gal-thumbnails` is pretty self explanatory
	 */

  .gal-thumbnails {
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-y: auto;
  }

  .gal-thumb {
    display: block;
  }

  .gal-thumb:not(:last-of-type) {
    margin-bottom: .5rem;
  }

  .gal-highlight {
    outline: 1px solid var(--secondary-500);
  }

  /**
	 * archive support
	 */

  /**
	 * generally the `.center` class is used for ads, but on the archive it is used
	 * to give information about how many threads are expired
	 */

  .is_arclist h4.center {
    display: block !important;
    text-align: center;
    color: var(--text-primary-on-primary);
    background-color: var(--red-500);
    padding: .5rem 1rem;
    margin: 0;
  }

  /**
	 * /f/ support
	 */

  .flashListing {
    background-color: var(--background-primary);
    max-width: 100%;
    margin: auto;
  }

  .flashListing tr:nth-of-type(odd) {
    background-color: var(--background-secondary);
  }

  .flashListing tr.highlightPost {
    background-color: #fffde7;
  }

  .board_f.is_index .board {
    max-width: 80%;
    margin-bottom: 2rem;
  }

  #arc-list {
    position: relative;
    max-width: 70rem;
    z-index: 1;
    margin: -2rem auto 0;
  }

  .board_f .flashListing > tbody > tr:first-child td,
  #arc-list thead td {
    color: var(--text-primary-on-primary);
    text-align: center;
    background-color: var(--primary-500);
    border: 1px solid var(--primary-700);
    padding: 0 .5rem;
    min-width: 5rem;
    height: 3rem;
  }

  .flashListing td {
    height: 3rem;
    padding: 0 .5rem;
    border: 1px solid var(--background-outline);
  }

  .flashListing > tbody tr td:first-of-type {
    text-align: center;
  }

  .file-col {
    font-size: 0;
  }

  .file-col a::after {
    content: attr(title);
    font-size: 1rem;
    color: var(--primary-500);
    border-bottom: 1px solid;
  }

  .file-col a:hover::after {
    color: var(--primary-700);
  }

  .flashListing .subject::after {
    display: none;
  }

  .flashListing .subject span {
    font-size: 0;
  }

  .flashListing .subject span::after {
    content: attr(title);
    font-size: 1rem;
  }

  .board_f .flashListing tr:not(:first-child) td:nth-child(4),
  .board_f .flashListing tr:not(:first-child) td:nth-child(8) {
    text-align: center;
  }

  .board_f .flashListing tr:not(:first-child) td:nth-child(6) {
    text-align: right;
  }

  .board_f .flashListing tr:not(:first-child) td:nth-child(9) {
    font-size: 0;
    padding: 0;
    border-color: var(--primary-700);
  }

  .board_f .flashListing tr:not(:first-child) td:nth-child(9) a::after {
    content: 'View';
    font-size: 1rem;
    color: var(--text-primary-on-primary);
    background-color: var(--primary-500);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    width: 100%;
  }

  #arc-list tr td:nth-of-type(1n) {
    width: 15%;
  }

  #arc-list tr td:nth-of-type(2n) {
    width: 75%;
  }

  #arc-list tr td:nth-of-type(3n) {
    width: 10%;
  }

  /**
	 * if enabled, you can inline embed files from /f/
	 */

  #swf-embed {
    z-index: 50;
  }

  /**
	 * post highlighting and filtering effects
	 * this will only work if you also added the filters i asked you to install
	 */

  /**
	 * hot posts by mods aren't purple tinted
	 */

  .post--hot > .post {
    background-image: linear-gradient(to bottom, var(--background-primary), #ffebee);
  }

  :root.ss16--invert .post--hot > .post {
    background-image: linear-gradient(to bottom, var(--background-primary), #573737);
  }

  .post:target,
  .highlight,
  .qphl,
  .yourPost > .post,
  :root.highlight-own .yourPost .stub {
    background-color: #fffde7;
  }

  .quotesYou > .post {
    background-color: #fff8e1;
  }

  .poster--founder > .post {
    background-color: #e0f2f1;
  }

  .poster--founder .nameBlock {
    color: #009688;
  }

  .poster--admin > .post {
    background-color: #ffebee;
  }

  .poster--admin .nameBlock,
  .capcodeAdmin {
    color: #f44336;
  }

  .poster--mod > .post {
    background-color: #ede7f6;
  }

  .poster--mod .nameBlock,
  .capcodeMod {
    color: #673ab7;
  }

  .poster--developer > .post {
    background-color: #e0f7fa;
  }

  .poster--developer .nameBlock {
    color: #00bcd4;
  }

  .poster--manager > .post {
    background-color: #fce4ec;
  }

  .poster--manager .nameBlock {
    color: #e91e63;
  }

  .poster--verified > .post {
    background-color: #e8eaf6;
  }

  .poster--verified .nameBlock {
    color: #3f51b5;
  }

  .poster--pass > .post {
    background-color: #f9fbe7;
  }

  .poster--pass .n-pu {
    color: #afb42b;
    display: inline-block;
    vertical-align: middle;
  }

  .file--gif .fileThumb,
  .file--video .fileThumb {
    position: relative;
  }

  .file--gif:not(.expanded-image) > .post > .file > .fileThumb::after,
  .file--video:not(.expanded-image) > .post > .file > .fileThumb::after {
    font-size: 3rem;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: linear-gradient(to bottom, rgba(33, 33, 33, 0), rgba(33, 33, 33, 1));
    opacity: .7;
    transition: opacity .25s;
  }

  .file--gif:not(.expanded-image) > .post > .file:hover > .fileThumb::after,
  .file--video:not(.expanded-image) > .post > .file:hover > .fileThumb::after {
    opacity: .55;
  }

  /**
	 * anti autoplay
	 */

  audio.controls-added {
    display: block;
    margin: auto;
  }

  :root.anti-autoplay div.embed {
    position: static;
    width: auto;
    height: auto;
    text-align: center;
  }

  :root.anti-autoplay .autoplay-removed {
    visibility: visible !important;
    min-width: 640px;
    min-height: 360px;
  }

  /**
	 * in the event you get a 404, 4chan x doesn't run and obviously my adblock filter
	 * gets rid of the default css, so here is a quick and dirty style (before you get
	 * redirected, that is)
	 */

  :root[xmlns] #doc {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    min-height: 100vh;
  }

  :root[xmlns] #doc a {
    color: var(--primary-500);
  }

  :root[xmlns] #doc a:hover {
    color: var(--primary-700);
    border-bottom: 1px solid;
  }

  :root[xmlns] #doc .boxbar {
    color: var(--red-500);
  }

  :root[xmlns] #doc .boxcontent {
    margin-top: 1rem;
  }

  :root[xmlns] #copyright {
    color: var(--text-secondary-on-background);
    margin: 0;
  }

  /**
	 * ss16 dialog
	 */

  .ss16--dialog {
    position: fixed;
    top: 0;
    left: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    z-index: 50;
    background-color: rgba(33, 33, 33, .75);
  }

  .ss16--dialog-window {
    background-color: var(--background-primary);
    box-shadow: 0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);
    border-radius: 2px;
    padding: 1rem 1.5rem;
  }

  .ss16--dialog-header {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .ss16--dialog-description {
    color: var(--text-secondary-on-background);
    margin-bottom: .5rem;
  }

  /**
	 *
	 */

  .ss16--index-searching-curtain {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    pointer-events: none;
    background-image: linear-gradient(to bottom, rgba(33, 33, 33, .75), rgba(33, 33, 33, 0));
  }

  :root.ss16--index-searching .board:empty::after {
    content: 'No threads found; try searching again.';
    color: var(--text-secondary-on-background);
    background-color: var(--background-primary);
    max-width: 75%;
    margin: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 40vh;
  }

  /**
	 * ss16: board drawer
	 */

  .ss16--board-drawer-background {
    position: fixed;
    overflow: hidden;
    contain: strict;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 99;
  }

  .ss16--board-drawer-background::before {
    content: '';
    display: block;
    will-change: opacity;
    background-color: rgba(33, 33, 33, .6);
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    opacity: 0;
    transition: opacity .25s;
  }

  .drawer-open {
    pointer-events: auto;
  }

  .drawer-open::before {
    opacity: 1;
  }

  .ss16--board-drawer {
    width: 320px;
    background: var(--background-primary);
    left: 0;
    right: initial;
    height: 100%;
    display: flex;
    position: absolute;
    flex-direction: column;
    will-change: transform;
    transform: translateX(-100%);
    transition: transform .25s;
    overflow-y: scroll;
  }

  .drawer-open .ss16--board-drawer {
    transform: translateX(0);
  }

  .board-list-entry {
    display: block;
    color: var(--text-primary-on-background);
    text-decoration: none;
    height: 3rem;
    line-height: 3;
    padding-left: 1rem;
    transition: background-color .25s;
  }

  .board-list-entry:hover {
    background-color: rgba(33, 33, 33, .12);
  }

  .board-list-entry.board--ws {
    color: #000;
    background-color: #d6daf0;
  }

  .board-list-entry.board--nws {
    color: #800000;
    background-color: #f0e0d6;
  }

  #board-list a.ss16--board-drawer-toggle {
    order: -1;
    opacity: 1;
  }

  /**
	 * ss16: yotsuba b styling
	 */

  :root.ss16--yotsuba.ws {
    --text-primary-on-primary: #000;
    --text-icon-on-primary: #000;
    --background-primary: #d6daf0;
    --background-secondary: #c7cbe4;
    --background-outline: rgba(161, 166, 202, .5);
    --primary-500: #c7cbe4;
    --primary-700: #a1a6ca;
  }

  :root.ss16--yotsuba.ws body {
    color: #000;
    background-color: #eef2ff !important;
  }

  :root.ss16--yotsuba.ws .dateTime,
  :root.ss16--yotsuba.ws .page-num,
  :root.ss16--yotsuba.ws .abbr {
    color: #000;
  }

  :root.ss16--yotsuba.ws a {
    color: #34345c;
  }

  :root.ss16--yotsuba.ws .post {
    background-color: #d6daf0 !important;
  }

  :root.ss16--yotsuba.ws .boardTitle {
    color: #af0a0f;
  }

  :root.ss16--yotsuba.ws .subject {
    color: #0f0c5d;
  }

  :root.ss16--yotsuba.ws .name {
    color: #117743;
  }

  :root.ss16--yotsuba.ws .quote {
    color: #789922;
  }

  :root.ss16--yotsuba.ws a:hover,
  :root.ss16--yotsuba.ws .shortcut:hover,
  :root.ss16--yotsuba.ws .quotelink {
    color: #d00;
  }

  :root.ss16--yotsuba.ws .field:not(#qr-filename-container),
  :root.ss16--yotsuba.ws select {
    background-color: #fff !important;
    border-color: #ccc !important;
  }

  :root.ss16--yotsuba.ws .field:focus,
  :root.ss16--yotsuba.ws select:focus {
    border-color: #98e !important;
  }

  :root.ss16--yotsuba.ws.bottom-backlinks .container {
    background-color: #c7cbe4;
    border-color: #b7c5d9;
  }

  /**
	 * ss16: yotsuba styling
	 */

  :root.ss16--yotsuba.nws {
    --text-primary-on-primary: #800000;
    --text-icon-on-primary: #800000;
    --background-primary: #f0e0d6;
    --background-secondary: #ddcabe;
    --background-outline: rgba(198, 178, 165, .5);
    --primary-500: #ddcabe;
    --primary-700: #c6b0a2;
  }

  :root.ss16--yotsuba.nws body {
    color: #800000;
    background-color: #ffe !important;
  }

  :root.ss16--yotsuba.nws .dateTime,
  :root.ss16--yotsuba.nws .page-num,
  :root.ss16--yotsuba.nws .abbr {
    color: #800000;
  }

  :root.ss16--yotsuba.nws a {
    color: #00e;
  }

  :root.ss16--yotsuba.nws .quotelink {
    color: #000080;
  }

  :root.ss16--yotsuba.nws .post {
    background-color: #f0e0d6 !important;
  }

  :root.ss16--yotsuba.nws .boardTitle {
    color: #af0a0f;
  }

  :root.ss16--yotsuba.nws .subject {
    color: #cc1105;
  }

  :root.ss16--yotsuba.nws .name {
    color: #117743;
  }

  :root.ss16--yotsuba.nws .quote {
    color: #789922;
  }

  :root.ss16--yotsuba.nws a:hover,
  :root.ss16--yotsuba.nws .shortcut:hover {
    color: red;
  }

  :root.ss16--yotsuba.nws .field:not(#qr-filename-container),
  :root.ss16--yotsuba.nws select {
    background-color: #fff !important;
    border-color: #ccc !important;
  }

  :root.ss16--yotsuba.nws .field:not(#qr-filename-container):focus,
  :root.ss16--yotsuba.nws select:focus {
    border-color: #ea8 !important;
  }

  :root.ss16--yotsuba.nws.bottom-backlinks .container {
    background-color: #ddcabe;
    border-color: #d9bfb7;
  }

  /**
	 * april fools 2018 support
	 */

  .n-atb {
    border-radius: 2px;
    padding: 1px 4px;
    color: #353839;
  }

  .atsb2018 table {
    width: 100%;
    max-width: 70rem;
    margin: 1rem auto 2rem;
    border-radius: 2px;
    background-color: var(--background-primary);
    box-shadow: 0 2px 10px 0 rgba(33, 33, 33, .1);
  }

  .atsb2018 th,
  .atsb2018 td {
    padding: .5rem .75rem;
    border-bottom: 1px solid var(--background-hint);
  }

  .atsb2018 tr:not(:first-child) td:first-child,
  .atsb2018 tr:not(:first-child) td:last-child {
    font-family: var(--font-family-monospace);
    font-size: 1.125rem;
    text-align: center;
  }

  .atsb2018 .atsgc {
    width: 75%;
  }

  .atsb2018 .atgg {
    height: 2rem;
  }

  .n-atb-0 {
    background-color: #f56fa1;
  }

  .n-atb-1 {
    background-color: #7b3f00;
    color: #f2f3f4;
  }

  .n-atb-2 {
    background-color: #fffdd0;
  }

  .n-atb-3 {
    background-color: #e4d00a;
  }

  .n-atb-4 {
    background-color: #50c878;
  }

  .n-atb-0::after {
    content: 'Team Peep';
  }

  .n-atb-1::after {
    content: 'Team Chocolate';
  }

  .n-atb-2::after {
    content: 'Team Creme';
  }

  .n-atb-3::after {
    content: 'Team Peanut Butter';
  }

  .n-atb-4::after {
    content: 'Team Mini';
  }
}
